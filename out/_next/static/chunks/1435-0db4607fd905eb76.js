"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1435],{741368:function(e,t,n){var l=n(557437),a=n(902265),r=n(938543),i=n(790658),o=n(8774),s=n(118627),u=n(600663),d=n(736261),p=n(633623);t.Z=e=>{let{onChange:t,onValidationError:n,accept:c=p.lJ,maxFileSizeMB:m,button:h}=e,{t:x}=(0,s.$)(),f=(0,o.u)(),[v,g]=(0,a.useState)(!1),[b,y]=(0,a.useState)(""),[j,C]=(0,a.useState)(""),[k,Z]=(0,a.useState)(!1),S=(0,a.useRef)(null),w=(0,a.useCallback)(()=>{if(!c)return x("common.dragAndDrop");let e=c.split(",").map(e=>e.trim()).map(e=>{if(e.startsWith("."))return e.toUpperCase().replace(".","");if(e.startsWith("image/")||e.startsWith("audio/")||e.startsWith("video/")||e.startsWith("application/")||e.startsWith("text/")){var t;return null===(t=e.split("/")[1])||void 0===t?void 0:t.toUpperCase()}return e.toUpperCase()}),t=[];for(let n=0;n<e.length;n+=5)t.push(e.slice(n,n+5).join("/"));return(0,l.jsxs)(l.Fragment,{children:["Drag & drop a"," ",t.map((e,n)=>(0,l.jsxs)(a.Fragment,{children:[e,n<t.length-1&&(0,l.jsx)("br",{})]},n))," ","file here, or click to select"]})},[c,x]),P=(0,a.useCallback)(e=>{let l=e.name.toLowerCase();if(l.endsWith(".jfif")){n(x("common.unsupportedfile"));return}let a=c.split(",").map(e=>e.trim().toLowerCase());if(!(a.includes(e.type.toLowerCase())||a.some(e=>l.endsWith(e)))){n(x("common.unsupportedfile"));return}if(m&&e.size>1048576*m){n(x("common.maxFileSize",{size:m}));return}if((e.type.startsWith("image/")||l.match(/\.(png|jpe?g|gif|bmp|webp|svg)$/i))&&e.size<1e3){n(x("common.fileCorrupted"));return}y(e.name),e.type.startsWith("image/")||l.match(/\.(png|jpe?g|gif|bmp|webp|svg)$/i)?C(URL.createObjectURL(e)):C(""),Z(!1),t(e)},[t,n,c,m]),R=()=>{y(""),C(""),Z(!1),S.current&&(S.current.value="")};(0,a.useEffect)(()=>()=>{j&&URL.revokeObjectURL(j)},[j]);let L=(e,t)=>{e.preventDefault(),e.stopPropagation(),g(t)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(r.Z,{sx:{...f.fileInputBox(v),...f.fileInputContainer},onDragEnter:e=>L(e,!0),onDragLeave:e=>L(e,!1),onDragOver:e=>e.preventDefault(),onDrop:e=>{var t;L(e,!1);let n=null===(t=e.dataTransfer.files)||void 0===t?void 0:t[0];n&&(P(n),S.current&&(S.current.value=""))},onClick:()=>{var e;return null===(e=S.current)||void 0===e?void 0:e.click()},children:[(0,l.jsx)("input",{ref:S,type:"file",accept:c,style:f.fileInputHidden,onChange:e=>{var t;let n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&(P(n),e.target.value="")},id:"file-upload"}),(0,l.jsx)("label",{htmlFor:"file-upload",style:{...f.fileInputLabel,...f.fileInputLabelExtended},onClick:e=>e.preventDefault(),children:b?(0,l.jsxs)(r.Z,{sx:f.filePreviewContainer,children:[(0,l.jsx)(d.Z,{size:"small",onClick:e=>{e.stopPropagation(),e.preventDefault(),R()},sx:f.fileCloseButton,children:(0,l.jsx)(u.Z,{fontSize:"small"})}),j&&!k?(0,l.jsx)("img",{src:j,alt:"Preview",style:f.imagePreview,onLoad:()=>Z(!1),onError:()=>{Z(!0)}}):(0,l.jsx)(r.Z,{sx:f.filePreviewBox,children:b})]}):(0,l.jsx)(i.Z,{sx:f.dragDropText,children:w()})})]}),h&&(0,l.jsx)(r.Z,{sx:f.buttonContainer,children:h(!!b)})]})}},981435:function(e,t,n){var l=n(557437),a=n(902265),r=n(938543),i=n(790658),o=n(229858),s=n(703460),u=n(267615),d=n(436136),p=n(219352),c=n(977639),m=n(8774),h=n(118627),x=n(729376),f=n(741368);t.Z=e=>{let{fields:t,onSubmit:n,onCancel:v,submitLabel:g="Submit",cancelLabel:b="Cancel",onFormValueChange:y,initialValues:j={}}=e,C=(0,m.u)(),{t:k}=(0,h.$)(),Z=(0,a.useRef)(null),[S,w]=(0,a.useState)(()=>({...j})),[P,R]=(0,a.useState)({}),L=t.length>4,W=a.useMemo(()=>t,[JSON.stringify(t.map(e=>{var t;return{name:e.name,type:e.type,required:e.required,disabled:e.disabled,optionsLength:(null===(t=e.options)||void 0===t?void 0:t.length)||0,maxSelected:e.maxSelected}}))]);(0,a.useEffect)(()=>{w(e=>({...e,...j}))},[JSON.stringify(j)]),(0,a.useEffect)(()=>{if(W.length>0&&Z.current){let e=setTimeout(()=>{var e;null===(e=Z.current)||void 0===e||e.focus()},100);return()=>clearTimeout(e)}},[W.length>0]);let E=(0,a.useCallback)(()=>{w(e=>{let t={...e},n=!1;return W.forEach(l=>{if("select"===l.type||"multiselect"===l.type){let a=e[l.name];if(l.options&&Array.isArray(a)){let e=l.options.map(e=>e.value),r=a.filter(t=>e.includes(t)&&"loading"!==t);r.length!==a.length&&(t[l.name]=r,n=!0)}else l.options&&a&&"string"==typeof a&&"loading"!==a&&!l.options.map(e=>e.value).includes(a)&&(t[l.name]="",n=!0)}}),n?t:e})},[W]),D=a.useMemo(()=>JSON.stringify(W.map(e=>{var t;return{name:e.name,options:null===(t=e.options)||void 0===t?void 0:t.map(e=>e.value)}})),[W]);(0,a.useEffect)(()=>{E()},[D]);let F=e=>(e.target instanceof HTMLInputElement&&e.target.type,e.target.value),A=(0,a.useCallback)((e,t)=>{w(n=>({...n,[e]:t})),R(t=>({...t,[e]:""})),y&&y(e,t)},[y]),z=(0,a.useCallback)((e,t)=>{R(n=>({...n,[e]:t}))},[]),I=(0,a.useCallback)(e=>{e.preventDefault();let t=!0,l={};W.forEach(e=>{if(e.required){let n=S[e.name];(!n||Array.isArray(n)&&0===n.length)&&(l[e.name]="".concat(e.label," ").concat(k("common.required")),t=!1)}}),R(l),t&&n(S)},[W,S,k,n]),B=(e,t)=>{var n,a,p,c,m,h,v,g,b;return(0,l.jsxs)(r.Z,{sx:{...C.formFieldBox,...L&&{mb:0}},children:["checkbox"!==e.type&&(0,l.jsxs)(i.Z,{sx:C.inputLabel,children:[e.label,e.required&&(0,l.jsx)("span",{style:{color:"#F44336",marginLeft:2},children:"*"})]}),"select"===e.type?(0,l.jsxs)(o.Z,{select:!0,value:null!==(p=S[e.name])&&void 0!==p?p:"",onChange:t=>A(e.name,t.target.value),fullWidth:!0,error:!!P[e.name],sx:C.inputRounded,inputRef:0===t?Z:void 0,SelectProps:{displayEmpty:!0,MenuProps:{PaperProps:{sx:{maxHeight:180,...C.dropdownPaper,zIndex:1400}},disablePortal:!1,keepMounted:!1}},children:[(0,l.jsx)(s.Z,{value:"",sx:{color:"#aaa"},children:e.placeholder||"Select an option"}),null===(n=e.options)||void 0===n?void 0:n.map(t=>{var n;return(0,l.jsx)(s.Z,{value:t.value,sx:C.menuItem,disabled:(null===(n=e.disabledOptions)||void 0===n?void 0:n.includes(t.value))||t.disabled,children:t.label},t.value)})]}):"multiselect"===e.type?(0,l.jsx)(o.Z,{select:!0,value:Array.isArray(S[e.name])?S[e.name]:[],onChange:t=>{let n=t.target.value;A(e.name,n)},fullWidth:!0,error:!!P[e.name],placeholder:e.placeholder,sx:C.inputRounded,inputRef:0===t?Z:void 0,SelectProps:{multiple:!0,displayEmpty:!0,renderValue:t=>{var n;if(!t||Array.isArray(t)&&0===t.length)return(0,l.jsx)("span",{style:{color:"#aaa"},children:e.placeholder});let a=null===(n=e.options)||void 0===n?void 0:n.filter(e=>t.includes(e.value)).map(e=>e.label);return null==a?void 0:a.join(", ")},MenuProps:{PaperProps:{sx:{maxHeight:180,...C.dropdownPaper}},disablePortal:!1,keepMounted:!1}},disabled:e.disabled,children:null===(a=e.options)||void 0===a?void 0:a.map(t=>{var n,a;let r=Array.isArray(S[e.name])?S[e.name]:[],i=r.includes(t.value),o=!!e.maxSelected&&r.length>=(null!==(a=e.maxSelected)&&void 0!==a?a:0)&&!i;return(0,l.jsx)(s.Z,{value:t.value,sx:{...C.menuItem,...i?{color:"#3D96E1"}:{}},disabled:(null===(n=e.disabledOptions)||void 0===n?void 0:n.includes(t.value))||t.disabled||o,children:t.label},t.value)})}):"textarea"===e.type?(0,l.jsx)(o.Z,{rows:4,value:null!==(c=S[e.name])&&void 0!==c?c:"",onChange:t=>A(e.name,t.target.value),fullWidth:!0,error:!!P[e.name],placeholder:e.placeholder,sx:C.inputRounded,inputRef:0===t?Z:void 0,inputProps:{maxLength:e.maxlength},autoComplete:"off"}):"tags"===e.type?(0,l.jsx)(x.B,{value:Array.isArray(S[e.name])?S[e.name]:S[e.name]?String(S[e.name]).split(",").map(e=>e.trim()):[],onChange:t=>A(e.name,t.join(",")),maxTags:e.maxSelected,maxTagLength:e.maxlength,placeholder:e.placeholder}):"checkbox"===e.type?(0,l.jsx)(u.Z,{control:(0,l.jsx)(d.Z,{checked:!!S[e.name],onChange:t=>A(e.name,t.target.checked),inputRef:0===t?Z:void 0,disabled:e.disabled}),label:e.label,sx:{mt:1}}):"file"===e.type?(0,l.jsx)(r.Z,{children:(0,l.jsx)(f.Z,{onChange:t=>A(e.name,t),onValidationError:t=>z(e.name,t),accept:e.accept,maxFileSizeMB:e.maxFileSizeMB,button:e.fileButton})}):"number"===e.type?(0,l.jsx)(o.Z,{type:"number",name:e.name,value:null!==(m=S[e.name])&&void 0!==m?m:"",onChange:e=>A(e.target.name,F(e)),fullWidth:!0,error:!!P[e.name],placeholder:e.placeholder,sx:{...C.inputRounded,"& input[type=number]::-webkit-outer-spin-button, & input[type=number]::-webkit-inner-spin-button":{WebkitAppearance:"none",margin:0},"& input[type=number]":{MozAppearance:"textfield"}},inputRef:0===t?Z:void 0,inputProps:{min:e.min,max:e.max,step:null!==(h=e.step)&&void 0!==h?h:1}}):"color"===e.type?(0,l.jsxs)(r.Z,{display:"flex",alignItems:"center",gap:2,children:[(0,l.jsx)("input",{type:"color",value:String(null!==(v=S[e.name])&&void 0!==v?v:"#000000"),onChange:t=>A(e.name,t.target.value),style:{width:40,height:40,border:"none",background:"transparent",cursor:"pointer"}}),(0,l.jsx)(o.Z,{type:"text",value:null!==(g=S[e.name])&&void 0!==g?g:"",onChange:t=>{let n=t.target.value;(/^#([0-9A-Fa-f]{0,6})$/.test(n)||""===n)&&A(e.name,n)},fullWidth:!0,error:!!P[e.name],placeholder:e.placeholder||"#FFFFFF",sx:C.inputRounded})]}):(0,l.jsx)(o.Z,{type:e.type,value:null!==(b=S[e.name])&&void 0!==b?b:"",onChange:t=>A(e.name,t.target.value),fullWidth:!0,error:!!P[e.name],placeholder:e.placeholder,sx:C.inputRounded,inputRef:0===t?Z:void 0,inputProps:{maxLength:e.maxlength},autoComplete:"off"}),P[e.name]&&(0,l.jsx)(i.Z,{sx:C.inputError,children:P[e.name]})]},e.name)};return(0,l.jsxs)("form",{onSubmit:I,children:[(0,l.jsx)(r.Z,{sx:C.formFields,children:L?(0,l.jsx)(p.Z,{container:!0,spacing:3,children:W.map((e,t)=>(0,l.jsx)(p.Z,{size:{xs:12,sm:6},children:B(e,t)},e.name))}):W.map((e,t)=>B(e,t))}),(0,l.jsxs)(r.Z,{sx:C.buttonRow,children:[(0,l.jsx)(c.Z,{onClick:v,sx:C.cancelButton,children:b}),(0,l.jsx)(c.Z,{type:"submit",variant:"contained",sx:C.submitButton,children:g})]})]})}},729376:function(e,t,n){n.d(t,{B:function(){return u}});var l=n(557437),a=n(902265),r=n(938543),i=n(229858),o=n(790658),s=n(8774);let u=e=>{let{value:t=[],onChange:n,maxTags:u=6,maxTagLength:d=13,placeholder:p}=e,[c,m]=(0,a.useState)(""),[h,x]=(0,a.useState)(null);(0,s.u)();let f=e=>{let l=e.trim().slice(0,d);if(l){if(t.includes(l)){x("Tag already exists");return}if(t.length>=u){x("Maximum ".concat(u," tags allowed"));return}x(null),n([...t,l])}},v=e=>{x(null),n(t.filter((t,n)=>n!==e))};return(0,l.jsxs)(r.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,l.jsxs)(r.Z,{sx:{border:"1px solid #ccc",padding:"4px 8px",borderRadius:2,display:"flex",alignItems:"center",overflowX:"auto",whiteSpace:"nowrap",minHeight:"36px",maxHeight:"60px",gap:1,backgroundColor:"transparent",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none"},children:[t.map((e,t)=>(0,l.jsxs)(r.Z,{sx:{display:"inline-flex",alignItems:"center",backgroundColor:"#515355",color:"white",padding:"1px 6px",borderRadius:1,cursor:"pointer",fontSize:"0.8rem",userSelect:"none"},onClick:()=>v(t),title:"Click to remove",children:[e," \xa0\xd7"]},t)),(0,l.jsx)(i.Z,{value:c,onChange:e=>{let t=e.target.value;if(t.includes("#")||t.includes(" ")){let e=t.split(/[# ]+/);e.forEach((t,n)=>{t&&n<e.length-1&&f(t)}),t=e[e.length-1]}t.length>d?x("Max length is ".concat(d," characters")):x(null),m(t.slice(0,d))},onKeyDown:e=>{(" "===e.key||"#"===e.key)&&c.trim()&&(e.preventDefault(),f(c),m("")),"Backspace"===e.key&&!c&&t.length&&(e.preventDefault(),n(t.slice(0,-1)))},placeholder:p,variant:"standard",InputProps:{disableUnderline:!0,sx:{color:"white",minWidth:100,flexShrink:0,fontSize:"0.9rem",cursor:"text"}}})]}),h&&(0,l.jsx)(o.Z,{variant:"caption",sx:{color:"red",marginTop:"4px",marginLeft:"4px"},children:h})]})}}}]);