"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4487],{534487:function(t,e,o){o.r(e),o.d(e,{default:function(){return E}});var r=o(557437),n=o(902265),a=o(429501),i=o(380845),s=o(219352),l=o(938543),c=o(941563),p=o(961002),d=o(790658),m=o(229858),u=o(717792),F=o(736261),x=o(267615),f=o(436136),g=o(220767),b=o(977639),h=o(408319),v=o(160741),w=o(266935),k=o(332583),z=o(842858),C=o(38188),Z=o(118627),y=o(799376),S=o(899765),j=o(98104),W=o(560087),I=o(633623),A=o(658720),M=o(427058),P=o(591925),B=()=>{var t,e;let o=(0,z.T)(),{loading:B}=(0,z.C)(t=>t.auth),{t:E}=(0,Z.$)(),L=(0,y.useRouter)(),[T,_]=(0,n.useState)(!1),[N,R]=(0,n.useState)(!1),[O,H]=(0,n.useState)(!1);(0,n.useEffect)(()=>{(0,j.Rn)()},[]);let{register:U,handleSubmit:q,formState:{errors:$},setError:D}=(0,a.cI)({resolver:(0,i.F)(k.O_)}),V=async t=>{try{var e,r;let n=await o((0,C.x4)(t)).unwrap(),{token:a,user:i}=n;if(o((0,C.Ex)(!1)),!a||!i)throw Error(E("login.loginFailed"));let s=null!==(r=null===(e=i.roles)||void 0===e?void 0:e.map(t=>t.name))&&void 0!==r?r:[],l=(0,A.jM)(s);o((0,C.Tm)(l));let c=n.activeShiftCount,p=i.signatureUrl;o((0,C.Ay)(O)),(0,j.mB)(a,O),o((0,S.wp)({message:E("login.success"),type:W.N.Success})),R(!0);let d=(0,P.k8)(l,c,!1,!!p);L.replace(d)}catch(t){R(!1),D("email",{message:"string"==typeof t?t:E("login.loginFailed")}),o((0,S.wp)({message:E("login.loginFailed"),type:W.N.Error}))}};return(0,r.jsxs)(s.Z,{sx:M.W.formContainer,children:[(0,r.jsx)(l.Z,{component:"div",sx:M.W.backgroundOverlay("".concat(I.VZ.bgPic))}),(0,r.jsx)(c.Z,{sx:M.W.card,children:(0,r.jsxs)(p.Z,{sx:M.W.cardContent,children:[(0,r.jsx)(l.Z,{component:"img",src:I.VZ.logo,alt:"Logo",sx:M.W.logo}),(0,r.jsxs)(l.Z,{sx:M.W.headerContainer,children:[(0,r.jsx)(d.Z,{variant:"h5",sx:M.W.title,children:E("login.title")}),(0,r.jsx)(d.Z,{variant:"body2",color:"text.secondary",sx:M.W.subtitle,children:E("login.subtitle")})]}),(0,r.jsxs)(l.Z,{component:"form",onSubmit:q(V),children:[(0,r.jsx)(m.Z,{fullWidth:!0,label:E("login.emailLabel"),margin:"normal",variant:"standard",...U("email"),error:!!$.email,helperText:null===(t=$.email)||void 0===t?void 0:t.message,sx:M.W.inputField}),(0,r.jsx)(m.Z,{fullWidth:!0,type:T?"text":"password",label:E("login.passwordLabel"),margin:"normal",variant:"standard",sx:M.W.inputField,...U("password"),error:!!$.password,helperText:null===(e=$.password)||void 0===e?void 0:e.message,slotProps:{input:{endAdornment:(0,r.jsx)(u.Z,{position:"end",children:(0,r.jsx)(F.Z,{size:"small",onClick:()=>_(!T),sx:M.W.iconButtonSmall,children:T?(0,r.jsx)(v.Z,{sx:{color:"#fff"}}):(0,r.jsx)(w.Z,{sx:{color:"#fff"}})})})}}}),(0,r.jsxs)(l.Z,{sx:M.W.rememberForgotContainer,children:[(0,r.jsx)(x.Z,{control:(0,r.jsx)(f.Z,{checked:O,onChange:t=>H(t.target.checked),size:"small",sx:M.W.checkboxWhite}),label:(0,r.jsx)(d.Z,{variant:"body2",children:E("login.rememberMe")})}),(0,r.jsx)(g.Z,{href:"#",onClick:t=>{t.preventDefault(),L.push(I.QZ.forgotPassword)},variant:"body2",color:"primary",sx:M.W.forgotPasswordLink,children:E("login.forgotPassword")})]}),(0,r.jsx)(b.Z,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:B||N,sx:M.W.loginButtonStyle,children:B||N?(0,r.jsx)(h.Z,{size:24,sx:{color:"#fff"}}):(0,r.jsx)(d.Z,{sx:M.W.buttonText,component:"span",children:E("login.loginButton")})}),(0,r.jsxs)(d.Z,{variant:"body2",color:"text.secondary",sx:M.W.loginfooter,children:[E("login.RedirectSignUp")," ",(0,r.jsx)(g.Z,{href:"#",onClick:t=>{t.preventDefault(),L.push(I.QZ.signUp)},variant:"body2",color:"primary",sx:M.W.forgotPasswordLink,children:E("login.SignUp")})]})]})]})})]})},E=()=>(0,r.jsx)(B,{})},332583:function(t,e,o){o.d(e,{Gl:function(){return n},OG:function(){return i},O_:function(){return a},oj:function(){return s}});var r=o(591115);let n=r.z.object({username:r.z.string().min(6,"Username must be at least 6 characters").max(15,"Username must be at most 15 characters").regex(/^(?=(?:.*[a-zA-Z]){2,})[a-zA-Z0-9!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]+$/,"Must contain at least two letters").nonempty("Username is required"),email:r.z.string().email("Invalid email format").regex(/^(?=.*[a-zA-Z])[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"Email must contain at least one letter before @").nonempty("Email is required"),password:r.z.string().min(6,"Password is required"),confirmPassword:r.z.string().min(6).nonempty("Confirm password is required")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),a=r.z.object({email:r.z.string().email("Invalid email format").regex(/^(?=.*[a-zA-Z])[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"Email must contain at least one letter before @"),password:r.z.string().min(6),rememberMe:r.z.boolean().optional()}),i=r.z.object({email:r.z.string().email("Invalid email format").regex(/^(?=.*[a-zA-Z])[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"Email must contain at least one letter before @").min(1,"Email is required")});r.z.object({role:r.z.enum(["active-controller","administrator","observer"],{required_error:"Please select a role"})}),r.z.object({areas:r.z.array(r.z.string()).min(1,"Please select at least one area"),nextHours:r.z.number().min(1,"Next hours must be specified")});let s=r.z.object({password:r.z.string().min(6),confirmPassword:r.z.string().min(6)}).refine(t=>t.password===t.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]})},899765:function(t,e,o){o.d(e,{M6:function(){return l},wp:function(){return s}});var r=o(620301),n=o(560087);let a={open:!1,message:"",type:n.N.Info},i=(0,r.oM)({name:"alert",initialState:a,reducers:{showAlert:(t,e)=>{t.open=!0,t.message=e.payload.message,t.type=e.payload.type||n.N.Info},closeAlert:t=>{t.open=!1,t.message=""}}}),{showAlert:s,closeAlert:l}=i.actions;e.ZP=i.reducer},427058:function(t,e,o){o.d(e,{G:function(){return n},W:function(){return r}});let r={formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",minHeight:"100vh",width:{xs:"100%",md:"50%"},color:"#FFFFFF",transition:"all 0.3s ease-in-out"},backgroundOverlay:t=>({backgroundImage:"url(".concat(t,")"),backgroundSize:"cover",backgroundPosition:"center",position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:0}),logo:{width:180,height:"auto",maxHeight:60,display:"block",marginLeft:"auto",marginRight:"auto",zIndex:1,mb:3},card:{maxWidth:430,width:"90%",borderRadius:10,boxShadow:"0px 4px 4px 0px #00000040, inset 0px 6px 30.6px 0px #FFFFFF40",background:"#1A1A1A26",backdropFilter:"blur(5.25px)",WebkitBackdropFilter:"blur(5.25px)",position:"relative",zIndex:1},cardContent:{p:4,px:5},headerContainer:{textAlign:"center"},title:{color:"#FFFFFF",mb:1,fontSize:"1.8rem",fontWeight:700},subtitle:{fontSize:"0.9rem",color:"#FFFFFF",fontWeight:200},inputField:{fontSize:"8px","& .MuiInputBase-input":{color:"#FFFFFF !important",backgroundColor:"transparent !important",WebkitTextFillColor:"#FFFFFF !important",caretColor:"#FFFFFF !important",transition:"background-color 9999s ease-in-out 0s","&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 1000px transparent inset !important",WebkitTextFillColor:"#FFFFFF !important",color:"#FFFFFF !important",backgroundColor:"transparent !important",caretColor:"#FFFFFF !important"},"&:-webkit-autofill:focus":{WebkitBoxShadow:"0 0 0 1000px transparent inset !important",WebkitTextFillColor:"#FFFFFF !important",color:"#FFFFFF !important",backgroundColor:"transparent !important",caretColor:"#FFFFFF !important"},"&:-webkit-autofill:hover":{WebkitBoxShadow:"0 0 0 1000px transparent inset !important",WebkitTextFillColor:"#FFFFFF !important",color:"#FFFFFF !important",backgroundColor:"transparent !important",caretColor:"#FFFFFF !important"},"&:-webkit-autofill:active":{WebkitBoxShadow:"0 0 0 1000px transparent inset !important",WebkitTextFillColor:"#FFFFFF !important",color:"#FFFFFF !important",backgroundColor:"transparent !important",caretColor:"#FFFFFF !important"},"&:-moz-autofill":{boxShadow:"0 0 0 1000px transparent inset !important",color:"#FFFFFF !important",backgroundColor:"transparent !important",caretColor:"#FFFFFF !important"},"&:-moz-autofill:focus":{boxShadow:"0 0 0 1000px transparent inset !important",color:"#FFFFFF !important",backgroundColor:"transparent !important",caretColor:"#FFFFFF !important"}},"& .MuiInputBase-root":{borderBottom:"0px solid #e0e0e0",color:"#fff",backgroundColor:"transparent"},"& .MuiInput-underline:before":{borderBottomColor:"#fff"},"& .MuiInput-underline:hover:before":{borderBottomColor:"#4295CF !important"},"& .MuiInput-underline:after":{borderBottomColor:"#4295CF"},"& .MuiInputLabel-root":{fontSize:"0.85rem",color:"#FFFFFF"},"& .MuiInputLabel-root .MuiInputLabel-asterisk":{color:"red"},"& .MuiInputBase-label":{color:"#FFFFFF"},"& .MuiInputLabel-root.Mui-error":{color:"#fff"},"& .MuiInput-underline.Mui-error:after":{borderBottomColor:"#fff"}},rememberForgotContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",color:"#FFFFFF",my:2},forgotPasswordLink:{textDecoration:"none",my:2},iconButtonSmall:{color:"#FFFFFF","&.MuiIconButton-root":{padding:"4px",fontSize:"1rem"},"& svg":{fontSize:"1.1rem"}},loginButtonStyle:{background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",color:"#fff",borderRadius:"25px",fontSize:"1rem",fontWeight:600,textTransform:"none",padding:"12px 0",margin:"15px 0",marginTop:"0.5rem",marginBottom:"3px",boxShadow:"\n      inset 0 0 10px rgba(255, 255, 255, 0.3),\n      inset 0 0 5px rgba(255, 255, 255, 0.2),\n      0 4px 10px rgba(0, 0, 0, 0.4)\n    ",transition:"all 0.3s ease","&:hover, &:focus":{background:"rgba(255, 255, 255, 0.3)",transform:"translateY(-2px)",boxShadow:"\n        inset 0 0 12px rgba(255, 255, 255, 0.4),\n        inset 0 0 6px rgba(255, 255, 255, 0.3),\n        0 6px 14px rgba(0, 0, 0, 0.5)\n      "},"&:focus":{outline:"2px solid rgba(255, 255, 255, 0.6)",outlineOffset:"3px"}},buttonText:{fontSize:"1.2rem",fontWeight:600,color:"transparent",background:"rgba(255, 255, 255, 0.5)",WebkitBackgroundClip:"text",backgroundClip:"text",textShadow:"\n      0px 4px 4px rgba(0, 0, 0, 0.15),\n      1px 1px 2px rgba(255, 255, 255, 0.15),\n    -1px -1px 2px rgba(255, 255, 255, 0.15)\n    ",transition:"all 0.3s ease","&:hover":{background:"rgba(255, 255, 255, 0.8)",WebkitBackgroundClip:"text",backgroundClip:"text"},"&:focus":{textShadow:"\n        0px 4px 6px rgba(0, 0, 0, 0.25),\n        1px 1px 3px rgba(255, 255, 255, 0.3)\n      "}},loginfooter:{fontSize:"0.875rem",mb:1,textAlign:"center",color:"#FFFFFF",display:"flex",alignItems:"center",justifyContent:"center",gap:"2px",cursor:"pointer"},checkboxWhite:{color:"#FFFFFF","&.Mui-checked":{color:"#FFFFFF"}},icon:{color:"#4295CF",fontSize:"1.5rem",mr:-.5,cursor:"pointer"}},n={wrapper:{display:"flex",flexWrap:"wrap",alignItems:"center",overflow:"hidden",transition:"all 0.3s ease-in-out",opacity:1,maxHeight:"120px",transform:"translateY(0)"},wrapperHidden:{opacity:0,maxHeight:0,transform:"translateY(-10px)",margin:0,padding:0},item:{display:"flex",alignItems:"center",mr:1,mb:.5,transition:"all 0.2s ease-in-out",transform:"translateX(0)",opacity:1},itemHidden:{transform:"translateX(-10px)",opacity:0},icon:t=>({fontSize:"8px",color:t?"#4CAF50":"#9e9e9e",mr:1,transition:"color 0.3s ease-in-out, transform 0.2s ease-in-out",transform:t?"scale(1.1)":"scale(1)"}),text:t=>({color:t?"#4CAF50":"#9e9e9e",fontSize:"0.705rem",whiteSpace:"nowrap",transition:"color 0.3s ease-in-out"})}},560087:function(t,e,o){var r,n;o.d(e,{N:function(){return r}}),(n=r||(r={})).Success="success",n.Error="error",n.Warning="warning",n.Info="info"},266935:function(t,e,o){var r=o(396508),n=o(557437);e.Z=(0,r.Z)((0,n.jsx)("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5-.59 1.22-1.42 2.27-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6m-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14M2.01 3.87l2.68 2.68C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45zm7.5 7.5 2.61 2.61c-.04.01-.08.02-.12.02-1.38 0-2.5-1.12-2.5-2.5 0-.05.01-.08.01-.13m-3.4-3.4 1.75 1.75c-.23.55-.36 1.15-.36 1.78 0 2.48 2.02 4.5 4.5 4.5.63 0 1.23-.13 1.77-.36l.98.98c-.88.24-1.8.38-2.75.38-3.79 0-7.17-2.13-8.82-5.5.7-1.43 1.72-2.61 2.93-3.53"}),"VisibilityOffOutlined")},160741:function(t,e,o){var r=o(396508),n=o(557437);e.Z=(0,r.Z)((0,n.jsx)("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4m0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7"}),"VisibilityOutlined")},717792:function(t,e,o){o.d(e,{Z:function(){return w}});var r,n=o(902265),a=o(161994),i=o(7609),s=o(51661),l=o(790658),c=o(160070),p=o(294811),d=o(401589),m=o(301190),u=o(642318),F=o(15245),x=o(511475);function f(t){return(0,x.ZP)("MuiInputAdornment",t)}let g=(0,F.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var b=o(557437);let h=t=>{let{classes:e,disablePointerEvents:o,hiddenLabel:r,position:n,size:a,variant:l}=t,c={root:["root",o&&"disablePointerEvents",n&&"position".concat((0,s.Z)(n)),l,r&&"hiddenLabel",a&&"size".concat((0,s.Z)(a))]};return(0,i.Z)(c,f,e)},v=(0,d.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:o}=t;return[e.root,e["position".concat((0,s.Z)(o.position))],!0===o.disablePointerEvents&&e.disablePointerEvents,e[o.variant]]}})((0,m.Z)(t=>{let{theme:e}=t;return{display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{["&.".concat(g.positionStart,"&:not(.").concat(g.hiddenLabel,")")]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}}));var w=n.forwardRef(function(t,e){let o=(0,u.i)({props:t,name:"MuiInputAdornment"}),{children:i,className:s,component:d="div",disablePointerEvents:m=!1,disableTypography:F=!1,position:x,variant:f,...g}=o,w=(0,p.Z)()||{},k=f;f&&w.variant,w&&!k&&(k=w.variant);let z={...o,hiddenLabel:w.hiddenLabel,size:w.size,disablePointerEvents:m,position:x,variant:k},C=h(z);return(0,b.jsx)(c.Z.Provider,{value:null,children:(0,b.jsx)(v,{as:d,ownerState:z,className:(0,a.Z)(C.root,s),ref:e,...g,children:"string"!=typeof i||F?(0,b.jsxs)(n.Fragment,{children:["start"===x?r||(r=(0,b.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"​"})):null,i]}):(0,b.jsx)(l.Z,{color:"textSecondary",children:i})})})})}}]);