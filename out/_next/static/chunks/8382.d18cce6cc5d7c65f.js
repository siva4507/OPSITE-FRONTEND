"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8382],{658382:function(e,t,r){r.r(t);var n=r(557437),o=r(902265),i=r(938543),a=r(790658),l=r(18150),s=r(736261),d=r(952854),p=r(167449),c=r(186059),x=r(525122),u=r(183272),f=r(842858),h=r(433145),g=r(118627),m=r(633623),b=r(471571),y=r(311137),w=r(899765),v=r(560087),j=r(684787);t.default=e=>{var t;let r;let{onOpenBgPicker:F}=e,R=(0,x.Z)(),k=(0,u.f)(R),Z=(0,f.T)(),S=(0,f.C)(e=>e.auth.user),{t:C}=(0,g.$)(),I=(null==S?void 0:S.username)?(r=S.username)?r.charAt(0).toUpperCase()+r.slice(1):"":"User",[A,D]=o.useState(!1),z=o.useRef(!1),H=o.useState("")[1],B=o.useState(null)[1],W=o.useRef(null),[M,E]=o.useState(!1),T=o.useRef(!1),P=o.useRef(""),[N,L]=o.useState(!1),V=(0,b.useSpeech)(),G=null!==(t=null==V?void 0:V.applyTranscript)&&void 0!==t?t:()=>{},U=()=>{let e=C("dashboardHeader.microphoneAccessDenied");Z((0,w.wp)({message:e,type:v.N.Error}))},_=(0,o.useMemo)(()=>{let e=new Date().getHours();return e<12?"dashboardHeader.morning":e<18?"dashboardHeader.afternoon":"dashboardHeader.evening"},[]);o.useEffect(()=>{let e=window.SpeechRecognition||window.webkitSpeechRecognition;if(!e){let e=C("dashboardHeader.notSupported");B(e),Z((0,w.wp)({message:e,type:v.N.Error}));return}W.current=new e,W.current.continuous=!0,W.current.interimResults=!1,W.current.lang="en-US",W.current.onresult=e=>{let t=e.results[0][0].transcript;H(t),P.current=t},W.current.onerror=e=>{B(e.error||C("dashboardHeader.voiceError")),D(!1),z.current=!1,E(!1),T.current=!1,("not-allowed"===e.error||"denied"===e.error)&&U()},W.current.onend=()=>{if(z.current){W.current.start(),T.current=!0;return}D(!1),E(!1),T.current=!1,P.current&&G&&G(P.current)}},[]);let q=async e=>{var t;e.preventDefault();let r=await (null===(t=navigator.permissions)||void 0===t?void 0:t.query({name:"microphone"}));if((null==r?void 0:r.state)==="denied"||!W.current){U();return}if(!T.current){H(""),P.current="",B(null),D(!0),z.current=!0,E(!0);try{W.current.start(),T.current=!0}catch(e){B(C("dashboardHeader.recognitionAlreadyStarted"))}}},O=e=>{e.preventDefault(),D(!1),z.current=!1,E(!1),W.current&&T.current&&(W.current.stop(),T.current=!1)};return(0,n.jsxs)(i.Z,{sx:k.root,children:[(0,n.jsxs)(i.Z,{sx:k.headerRow,children:[(0,n.jsx)(a.Z,{sx:k.greeting,children:C(_,{userName:I})}),(0,n.jsxs)(i.Z,{sx:k.headerRightRow,children:[(0,n.jsx)(j.y,{allowedRoles:["Active Controller"],children:(0,n.jsxs)(a.Z,{sx:k.alert,children:[(0,n.jsx)(h.default,{src:m.VZ.alert,alt:"alert",width:28,height:28,style:{marginBottom:2,display:"inline-block",verticalAlign:"middle"}}),C("dashboardHeader.alertMsg")]})}),(0,n.jsx)(l.Z,{title:"Notifications",children:(0,n.jsx)(s.Z,{sx:k.iconButton,children:(0,n.jsx)(h.default,{src:m.VZ.notification,alt:"notification",width:24,height:24,style:{display:"block"}})})}),(0,n.jsx)(d.Z,{src:"",alt:I,sx:k.avatar}),(0,n.jsx)(j.y,{allowedRoles:["Administrator","Active Controller"],children:(0,n.jsx)(i.Z,{sx:k.bgContianer,onClick:F,children:(0,n.jsx)(h.default,{src:m.VZ.bg,alt:"bg",width:28,height:28,style:{display:"block"}})})})]})]}),(0,n.jsxs)(i.Z,{sx:k.infoWeatherRow,children:[(0,n.jsx)(i.Z,{sx:k.infoRow,children:(0,n.jsxs)(j.y,{allowedRoles:["Active Controller"],children:[(0,n.jsxs)(i.Z,{sx:k.infoBox,children:[(0,n.jsx)(p.Z,{fontSize:"small"}),C("dashboardHeader.timeRemaining")," ",(0,n.jsx)("b",{children:"10:30:48"})]}),(0,n.jsxs)(i.Z,{sx:k.infoBox,children:[(0,n.jsx)(p.Z,{fontSize:"small"}),C("dashboardHeader.breakDue")," ",(0,n.jsx)("b",{children:"15 min"})]}),(0,n.jsxs)(i.Z,{sx:k.infoBox,children:[(0,n.jsx)(c.Z,{fontSize:"small"}),C("dashboardHeader.daily")," ",(0,n.jsx)("b",{children:"8.5/12Hr"})]}),(0,n.jsxs)(i.Z,{sx:k.infoBox,children:[(0,n.jsx)(c.Z,{fontSize:"small"}),C("dashboardHeader.weekly")," ",(0,n.jsx)("b",{children:"45/65Hr"})]})]})}),(0,n.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center",position:"relative"},children:[M&&(0,n.jsx)(i.Z,{sx:k.recordWaves,children:(0,n.jsx)(()=>(0,n.jsx)(i.Z,{sx:{width:120,height:40,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsxs)("svg",{viewBox:"0 0 120 40",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid meet",children:[(0,n.jsx)("g",{className:"wave-group",fill:"currentColor",children:[...Array(9)].map((e,t)=>(0,n.jsx)("rect",{x:4+12*t,y:10,width:6,height:10,rx:3,className:"wave-bar wave-bar-".concat(t)},t))}),(0,n.jsx)("style",{children:"\n          .wave-bar {\n            animation: waveAnim 1s infinite ease-in-out;\n          }\n          ".concat([...Array(9)].map((e,t)=>"\n            .wave-bar-".concat(t," {\n              animation-delay: ").concat(.1*t,"s;\n            }\n          ")).join(""),"\n          @keyframes waveAnim {\n            0%, 100% { height: 10px; y: 15px; }\n            50% { height: 28px; y: 6px; }\n          }\n        ")})]})}),{})}),(0,n.jsx)(i.Z,{sx:k.voiceBox,children:(0,n.jsx)(h.default,{src:m.VZ.microphone,alt:"microphone",width:24,height:24,style:{cursor:"pointer",zIndex:3},onMouseDown:q,onMouseUp:O,onMouseLeave:A?O:void 0,onTouchStart:q,onTouchEnd:O})})]})]}),(0,n.jsx)(y.Z,{open:N,onClose:()=>L(!1),onLivePreview:()=>{},onApply:()=>L(!1),userTheme:(null==S?void 0:S.theme)||{}})]})}},183272:function(e,t,r){r.d(t,{f:function(){return n},i:function(){return o}});let n=e=>({root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"12px",borderRadius:"20px",background:"#1A1A1A26",backdropFilter:"blur(16.25px)",marginBottom:1,boxSizing:"border-box",boxShadow:"\n    8.13px 8.13px 24.38px -5.2px #FFFFFF66 inset,\n    -16.25px -8.13px 8.13px -5.2px #FFFFFF33 inset,\n    0px 0px 20.8px -5.2px #FFFFFF33 inset\n  ",transition:"all 0.3s ease-in-out"},left:{display:"flex",flexDirection:"row",alignItems:"flex-start",flex:1,minWidth:0,justifyContent:"space-between"},greetingRow:{display:"flex",alignItems:"center"},greeting:{fontWeight:600,color:e.palette.primary.main,fontSize:"1.2rem",lineHeight:1.2},alert:{color:"#FF3F2F",fontWeight:500,fontSize:"1rem",display:"flex",alignItems:"center",gap:"6px"},infoRow:{display:"flex",gap:"10px",flexWrap:"wrap"},infoBox:{display:"flex",alignItems:"center",gap:"8px",border:"1.5px solid ".concat(e.palette.primary.main),borderRadius:"10px",padding:"6px",background:"transparent",color:e.palette.primary.main,fontWeight:500,fontSize:"12px",minWidth:0},right:{display:"flex",alignItems:"flex-end",gap:"18px"},voiceBox:{display:"flex",alignItems:"center",borderRadius:8,padding:"6px",background:"#3D96E1"},avatar:{width:"32px",height:"32px",borderRadius:"50%",objectFit:"cover",border:"2px solid ".concat(e.palette.primary.main),background:e.palette.primary.main,color:"#fff",fontWeight:700,fontSize:"18px"},iconButton:{color:e.palette.text.primary,background:"none",border:"none",boxShadow:"none",padding:"0",margin:"0 8px"},toggle:{},headerRow:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",flexWrap:"wrap",rowGap:"10px"},headerRightRow:{display:"flex",alignItems:"center",gap:"10px",flexWrap:"wrap",rowGap:"12px"},infoWeatherRow:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",marginTop:"4px",flexWrap:"wrap",rowGap:"12px"},bgOuterContainer:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",padding:"3px",background:"transparent",border:"2px solid #3D96E1",width:40,height:40,boxSizing:"border-box"},bgContianer:{background:"#3D96E1",borderRadius:"50%",padding:"1px",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:0,cursor:"pointer",width:34,height:34,boxSizing:"border-box"},recordWaves:{position:"absolute",right:-2,top:"50%",transform:"translateY(-50%)",background:"#5E667C",borderRadius:8,px:.5,boxShadow:"0 2px 8px rgba(61,150,225,0.15)",display:"flex",alignItems:"center",zIndex:2,minWidth:140,color:"#fff"}}),o=e=>({root:{width:260,height:"97vh",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"10px",margin:"10px",borderRadius:"20px",overflow:"hidden",background:"#1A1A1A26",backdropFilter:"blur(16.25px)",boxSizing:"border-box",boxShadow:"\n    8.13px 8.13px 24.38px -5.2px #FFFFFF66 inset,\n    -16.25px -8.13px 8.13px -5.2px #FFFFFF33 inset,\n    0px 0px 20.8px -5.2px #FFFFFF33 inset\n  ",transition:"all 0.3s ease-in-out"},collapsedRoot:{width:80},logoBox:{display:"flex",alignItems:"center",justifyContent:"center",paddingTop:e.spacing(3),paddingBottom:e.spacing(5),flexShrink:0},navItem:{margin:"4px 8px",borderRadius:"10px",padding:"8px 16px",height:"48px",minHeight:"48px",display:"flex",alignItems:"center","&:hover":{background:"#3D96E133"}},navIcon:{minWidth:0,marginRight:e.spacing(2),justifyContent:"center"},navText:{fontSize:"0.9rem",fontWeight:500,color:"#ffffff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},navItemSelected:{background:"#3D96E199 !important",color:"#fff"},logoutButton:{width:"100%",color:"dark"===e.palette.mode?"#ff5252":"#d32f2f",fontWeight:600,fontSize:"0.9rem",justifyContent:"flex-start",padding:"20px 35px"},listButton:{width:"100%",color:"dark"===e.palette.mode?"#ff5252":"#40403D",fontWeight:700,borderRadius:25,padding:"18px",justifyContent:"flex-start",cursor:"pointer"},toggleButton:{position:"absolute",top:80,right:0,width:15,height:40,background:e.palette.primary.main,color:"#fff",borderRadius:"9px 0px 0px 9px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",border:"none",zIndex:1,"&:hover":{background:"#1565C0"}},collapsedLogo:{width:"60px",height:"16px"},navList:{overflow:"hidden",padding:0,flexGrow:1},shiftButton:{display:"flex",flexDirection:"column",gap:"8px",padding:"12px",margin:"2px 8px",background:"#F6B7041A",alignItems:"center",borderRadius:"12px",height:"120px",minHeight:"120px",justifyContent:"center"},shiftTooltip:{display:"flex",flexDirection:"column",gap:"8px",padding:"12px",background:"#2C2106",borderRadius:"8px 8px 8px 0px",border:"1.5px solid ".concat(e.palette.warning.main),maxWidth:"200px",height:"120px",minHeight:"120px"},shiftButtonContent:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%",gap:"10px",height:"100%",justifyContent:"space-between"},shiftButtonTitle:{fontSize:"0.9rem",color:e.palette.warning.main,display:"flex",alignItems:"center",gap:"10px",fontWeight:500},shiftButtonDesc:{fontSize:"0.8rem",color:"#fff",lineHeight:1.4},shiftButtonLink:{color:e.palette.primary.main,textDecoration:"none",fontWeight:600,marginLeft:"4px",cursor:"pointer","&:hover":{textDecoration:"underline"}}})},186059:function(e,t,r){var n=r(396508),o=r(557437);t.Z=(0,n.Z)((0,o.jsx)("path",{d:"M17 12h-5v5h5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1zm3 18H5V8h14z"}),"Event")},952854:function(e,t,r){r.d(t,{Z:function(){return w}});var n=r(902265),o=r(161994),i=r(7609),a=r(401589),l=r(301190),s=r(642318),d=r(396508),p=r(557437),c=(0,d.Z)((0,p.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),x=r(15245),u=r(511475);function f(e){return(0,u.ZP)("MuiAvatar",e)}(0,x.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var h=r(169921);let g=e=>{let{classes:t,variant:r,colorDefault:n}=e;return(0,i.Z)({root:["root",r,n&&"colorDefault"],img:["img"],fallback:["fallback"]},f,t)},m=(0,a.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})((0,l.Z)(e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}})),b=(0,a.ZP)("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),y=(0,a.ZP)(c,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});var w=n.forwardRef(function(e,t){let r=(0,s.i)({props:e,name:"MuiAvatar"}),{alt:i,children:a,className:l,component:d="div",slots:c={},slotProps:x={},imgProps:u,sizes:f,src:w,srcSet:v,variant:j="circular",...F}=r,R=null,k={...r,component:d,variant:j},Z=function(e){let{crossOrigin:t,referrerPolicy:r,src:o,srcSet:i}=e,[a,l]=n.useState(!1);return n.useEffect(()=>{if(!o&&!i)return;l(!1);let e=!0,n=new Image;return n.onload=()=>{e&&l("loaded")},n.onerror=()=>{e&&l("error")},n.crossOrigin=t,n.referrerPolicy=r,n.src=o,i&&(n.srcset=i),()=>{e=!1}},[t,r,o,i]),a}({...u,..."function"==typeof x.img?x.img(k):x.img,src:w,srcSet:v}),S=w||v,C=S&&"error"!==Z;k.colorDefault=!C,delete k.ownerState;let I=g(k),[A,D]=(0,h.Z)("root",{ref:t,className:(0,o.Z)(I.root,l),elementType:m,externalForwardedProps:{slots:c,slotProps:x,component:d,...F},ownerState:k}),[z,H]=(0,h.Z)("img",{className:I.img,elementType:b,externalForwardedProps:{slots:c,slotProps:{img:{...u,...x.img}}},additionalProps:{alt:i,src:w,srcSet:v,sizes:f},ownerState:k}),[B,W]=(0,h.Z)("fallback",{className:I.fallback,elementType:y,externalForwardedProps:{slots:c,slotProps:x},shouldForwardComponentProp:!0,ownerState:k});return R=C?(0,p.jsx)(z,{...H}):a||0===a?a:S&&i?i[0]:(0,p.jsx)(B,{...W}),(0,p.jsx)(A,{...D,children:R})})}}]);