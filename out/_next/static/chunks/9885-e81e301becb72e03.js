"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9885],{842858:function(e,t,a){a.d(t,{C:function(){return r},T:function(){return o}});var n=a(568575);let o=n.I0,r=n.v9},118627:function(e,t,a){a.d(t,{$:function(){return o}});var n=a(743949);let o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"common",{t,i18n:a}=(0,n.$G)(e);return{t,i18n:a,changeLanguage:a.changeLanguage,currentLanguage:a.language}}},828223:function(e,t,a){var n=a(883464),o=a(98104);let r=n.Z.create({baseURL:"http://20.83.156.81/"});r.interceptors.request.use(e=>{if(!["/api/auth/login","/api/auth/register","/api/auth/reset-password","/api/auth/forgot-password"].some(t=>{var a;return null===(a=e.url)||void 0===a?void 0:a.includes(t)})){let t=(0,o.bW)();t&&(e.headers.Authorization="Bearer ".concat(t))}return!e.data||e.data instanceof FormData?e.data instanceof FormData&&delete e.headers["Content-Type"]:e.headers["Content-Type"]="application/json",e},e=>Promise.reject(e)),r.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&((0,o.Rn)(),window.location.href="/auth/login"),Promise.reject(e)}),t.Z=r},906957:function(e,t,a){a.d(t,{B1:function(){return g},F3:function(){return r},HY:function(){return s},ap:function(){return u},d7:function(){return i},nQ:function(){return d},sH:function(){return c},yR:function(){return l}});var n=a(828223),o=a(583248);let r=async()=>(await n.Z.get(o.P.ROLES)).data,i=async e=>(await n.Z.post(o.P.AOR,{companyIds:e})).data,s=async()=>(await n.Z.get(o.P.QUALITY_OF_SLEEP)).data,c=async()=>(await n.Z.get(o.P.ACTIVE_CONTROLLERS)).data,d=async e=>{try{return(await n.Z.post(o.P.ASSIGN_SHIFT,e)).data}catch(e){var t,a,r;throw{message:(null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to assign shift",statusCode:null===(r=e.response)||void 0===r?void 0:r.status}}},u=async()=>(await n.Z.get(o.P.COMPANY)).data,l=async e=>{let t=new FormData;return t.append("signature",e),(await n.Z.post(o.P.UPLOAD_SIGNATURE,t,{headers:{"Content-Type":"multipart/form-data"}})).data},g=async()=>(await n.Z.post(o.P.LOGOUT)).data},86586:function(e,t,a){a.d(t,{Ao:function(){return m},Au:function(){return E},J2:function(){return S},JD:function(){return p},UB:function(){return T},Vy:function(){return I},a4:function(){return f},aE:function(){return g},ff:function(){return u},iy:function(){return R},oG:function(){return y},oh:function(){return b},vZ:function(){return l},vd:function(){return d},xG:function(){return O}});var n=a(620301),o=a(906957),r=a(209628),i=a(299090);let s=e=>{if(!e.shiftAssignment){let t=localStorage.getItem("loginRequestTime")||"";e.shiftAssignment={aorId:[],ratingId:"",continuousRestHours:0,loginTime:t}}},c={key:"onboarding",storage:i.Z,whitelist:["shiftAssignment","selectedCompanies","lastFetchedCompanies"]},d=(0,n.hg)("onboarding/fetchRoles",async(e,t)=>{try{return(await (0,o.F3)()).data}catch(e){var a,n;return t.rejectWithValue((null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.message)||"Failed to fetch roles")}}),u=(0,n.hg)("onboarding/fetchAreasOfResponsibility",async(e,t)=>{try{return(await (0,o.d7)(e)).data}catch(e){var a,n;return t.rejectWithValue((null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.message)||"Failed to fetch areas of responsibility")}}),l=(0,n.hg)("onboarding/fetchQualityOfSleep",async(e,t)=>{try{return(await (0,o.HY)()).data}catch(e){var a,n;return t.rejectWithValue((null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.message)||"Failed to fetch quality of sleep")}});(0,n.hg)("onboarding/logout",async(e,t)=>{try{return await (0,o.B1)()}catch(e){return{}}});let g=(0,n.hg)("controller/fetchControllerUsers",async(e,t)=>{try{return(await (0,o.sH)()).data}catch(e){var a,n;return t.rejectWithValue((null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.message)||"Failed to fetch controllers")}}),f=(0,n.hg)("onboarding/uploadSignature",async(e,t)=>{try{return await (0,o.yR)(e)}catch(e){var a,n;return t.rejectWithValue((null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.message)||"Failed to upload signature")}}),p=(0,n.hg)("onboarding/assignShift",async(e,t)=>{try{return await (0,o.nQ)(e)}catch(e){var a;return t.rejectWithValue({message:null!==(a=e.message)&&void 0!==a?a:"Failed to assign shift",statusCode:e.statusCode})}}),m=(0,n.hg)("onboarding/fetchCompanies",async(e,t)=>{try{return(await (0,o.ap)()).data}catch(e){var a,n;return t.rejectWithValue((null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.message)||"Failed to fetch companies")}});function h(){localStorage.removeItem("persist:onboarding")}let v=(0,n.oM)({name:"onboarding",initialState:{roles:[],areasOfResponsibility:{aors:[],recentAor:[]},qualityOfSleep:[],users:[],shiftAssignment:null,loading:!1,error:null,companies:[],signatureBase64:void 0,selectedCompanies:[],lastFetchedCompanies:[]},reducers:{setSelectedHours:(e,t)=>{s(e),e.shiftAssignment.continuousRestHours=t.payload},setSelectedRating:(e,t)=>{s(e),e.shiftAssignment.ratingId=t.payload},setSelectedAORs:(e,t)=>{s(e),e.shiftAssignment.aorId=[...t.payload]},clearShiftAssignment:e=>{e.shiftAssignment=null,e.signatureBase64=void 0,h()},setSelectedCompanies:(e,t)=>{e.selectedCompanies=t.payload},setLastFetchedCompanies:(e,t)=>{e.lastFetchedCompanies=t.payload},clearError:e=>{e.error=null},resetOnboardingState:e=>{e.roles=[],e.areasOfResponsibility={aors:[],recentAor:[]},e.qualityOfSleep=[],e.users=[],e.shiftAssignment=null,e.error=null,e.signatureBase64="",e.selectedCompanies=[],e.lastFetchedCompanies=[],h()},setSignatureBase64:(e,t)=>{e.signatureBase64=t.payload}},extraReducers:e=>{e.addCase(d.pending,e=>{e.loading=!0,e.error=null}).addCase(d.fulfilled,(e,t)=>{e.loading=!1,e.roles=t.payload}).addCase(d.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(u.pending,e=>{e.loading=!0,e.error=null}).addCase(u.fulfilled,(e,t)=>{e.loading=!1,e.areasOfResponsibility=t.payload}).addCase(u.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(l.pending,e=>{e.loading=!0,e.error=null}).addCase(l.fulfilled,(e,t)=>{e.loading=!1,e.qualityOfSleep=t.payload}).addCase(l.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(g.pending,e=>{e.loading=!0,e.error=null}).addCase(g.fulfilled,(e,t)=>{e.loading=!1,e.users=t.payload}).addCase(g.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(p.pending,e=>{e.loading=!0,e.error=null}).addCase(p.fulfilled,e=>{e.loading=!1}).addCase(p.rejected,(e,t)=>{e.loading=!1,t.payload?e.error=t.payload.message:e.error="Failed to assign shift"}).addCase(m.pending,e=>{e.loading=!0,e.error=null}).addCase(m.fulfilled,(e,t)=>{e.loading=!1,e.companies=t.payload}).addCase(m.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(f.pending,e=>{e.loading=!0,e.error=null}).addCase(f.fulfilled,e=>{e.loading=!1}).addCase(f.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),S=(0,r.OJ)(c,v.reducer),{setSelectedHours:b,setSelectedRating:y,setSelectedAORs:E,clearShiftAssignment:A,clearError:C,resetOnboardingState:R,setSignatureBase64:O,setSelectedCompanies:I,setLastFetchedCompanies:T}=v.actions},98104:function(e,t,a){a.d(t,{$8:function(){return g},Rn:function(){return f},bW:function(){return l},kq:function(){return c},mB:function(){return u}});var n=a(464131),o=a(633623);class r{static getInstance(){return r.instance||(r.instance=new r),r.instance}storeToken(e,t){n.Z.set(o.B1,e,{expires:t?30:1,path:"/",sameSite:"Strict"}),localStorage.setItem(o.B1,e),localStorage.setItem("rememberMe",t.toString())}getAuthToken(){return n.Z.get(o.B1)||localStorage.getItem(o.B1)||null}isAuthenticated(){return!!this.getAuthToken()}getRememberMe(){return"true"===localStorage.getItem("rememberMe")}clearAuth(){[o.B1,"rememberMe","selectedRole","userSignatureBase64","loginRequestTime","isOnboardingCompleted"].forEach(e=>{localStorage.removeItem(e),sessionStorage.removeItem(e)}),n.Z.remove(o.B1,{path:"/"}),n.Z.remove("selectedRole",{path:"/"})}constructor(){}}function i(){let e=localStorage.getItem(o.cd),t=e?parseInt(e,10):0;return Number.isFinite(t)?t:0}function s(e){localStorage.setItem(o.cd,String(Math.max(0,e)))}function c(){localStorage.getItem(o.Rw)||localStorage.setItem(o.Rw,"".concat(Date.now(),"_").concat(Math.random().toString(36).slice(2,10)));let e=!1;s(i()+1);let t=e=>{let t=!1,a=performance.getEntriesByType("navigation");if(a.length>0&&(t="reload"===a[0].type),(null==e?void 0:e.persisted)&&(t=!0),t)return;let r=i()-1;s(r),"true"!==localStorage.getItem("rememberMe")&&r<=0&&(localStorage.removeItem(o.B1),n.Z.remove(o.B1,{path:"/"}))};window.addEventListener("beforeunload",t),window.addEventListener("pagehide",t)}let d=r.getInstance(),u=(e,t)=>d.storeToken(e,t),l=()=>d.getAuthToken(),g=()=>d.isAuthenticated(),f=()=>d.clearAuth()},633623:function(e,t,a){a.d(t,{AM:function(){return q},B1:function(){return r},Bg:function(){return h},Bp:function(){return u},EJ:function(){return c},Ep:function(){return F},Et:function(){return d},F1:function(){return O},HB:function(){return k},Hc:function(){return m},Hu:function(){return v},Ik:function(){return U},Jb:function(){return R},KO:function(){return y},Lv:function(){return A},MF:function(){return T},MY:function(){return N},QN:function(){return G},QZ:function(){return o},Rw:function(){return s},SU:function(){return B},So:function(){return l},VZ:function(){return n},_P:function(){return C},aM:function(){return P},b2:function(){return V},cd:function(){return i},eV:function(){return p},fo:function(){return Z},gX:function(){return b},h1:function(){return g},hr:function(){return j},i2:function(){return L},lD:function(){return f},lJ:function(){return w},lQ:function(){return _},nf:function(){return S},nq:function(){return I},qN:function(){return D},uB:function(){return E},we:function(){return H},zE:function(){return M}});let n={logo:"/images/logo.png",opsitelogo:"/images/opsite-logo.png",bgPic:"/images/bgPic.png",bgPicture:"/images/bg_pic.jpg",activeController:"/images/active.svg",administrator:"/images/admin.svg",observer:"/images/observer.svg",toggle:"/images/toggle.svg",shiftChange:"/images/shift.svg",logout:"/images/Logout.png",vector:"/images/Vector.png",alert:"/images/alert.svg",notification:"/images/notification.svg",climate:"/images/climate.png",add:"/images/Add.svg",save:"/images/save.svg",workers:"/images/workers.jpg",microphone:"/images/microphone.svg",esign:"/images/esign.svg",bg:"/images/bg.svg",addFolder:"/images/addFolder.svg",files:"/images/files.svg",pdf:"/images/pdf-file.svg",rename:"/images/rename.svg",delete:"/images/delete.svg",download:"/images/download.svg",fileIcon:"/images/fileIcon.svg",downloadFile:"/images/downloadFile.svg",favicon:"/images/opsite-favicon.png",micIcon:"/images/micicon.svg",edit:"/images/edit.svg",toggleIcon:"/images/toggleicon.svg",maximizeIcon:"/images/max.svg",minimizeIcon:"/images/min.svg",attachment:"/images/attachment.svg",diary:"/images/diary.svg",upload:"/images/upload-cloud.svg"},o={dashboard:"/dashboard",shiftChange:"/dashboard/shift-change",logbook:"/dashboard/logbook",documents:"/dashboard/documents",help:"/dashboard/help",login:"/auth/login",signUp:"/auth/sign-up",forgotPassword:"/auth/forgot-password",onboardingRoleSelection:"/onboarding/role-selection",onboardingHoursRest:"/onboarding/hours-rest",onboardingObserver:"/onboarding/observer",onboardingAreaResponse:"/onboarding/area-response",esign:"/onboarding/esign",companies:"/dashboard/companies",user:"/dashboard/user",aor:"/dashboard/aor",categories:"/dashboard/categories",roles:"/dashboard/roles",themes:"/dashboard/themes",facility:"/dashboard/facility",qos:"/dashboard/qualityHours"},r="auth_token",i="auth_open_tabs",s="auth_tab_id",c="image",d="color",u="auth",l="onboarding",g="dashboard",f="text",p="textarea",m="radio",h="checkbox",v="date",S="time",b="esign",y="full",E="half",A="No Changes",C="changes",R="8",O=[6,8,9,10,11,"12+"],I=51200,T=["image/png","image/jpeg","image/jpg"],w="image/png, image/jpeg, image/jpg",_="Day Shift",F="Night Shift",L="grid",P="list",B="folder",k="file",M="asc",j="desc",H="systemtheme",D="custom",U=6,G="all",N="my",Z="imp",V="csv",q="xlsx"},583248:function(e,t,a){a.d(t,{P:function(){return o}});let n="http://20.83.156.81/",o={REGISTER:"".concat(n,"api/auth/register"),LOGIN:"".concat(n,"api/auth/login"),FORGOT_PASSWORD:"".concat(n,"api/auth/forgot-password"),RESET_PASSWORD:"".concat(n,"api/auth/reset-password"),ROLES:"".concat(n,"api/roles/admin/show"),AOR:"".concat(n,"api/aor"),QUALITY_OF_SLEEP:"".concat(n,"api/quality-of-sleep"),ACTIVE_CONTROLLERS:"".concat(n,"api/users/active-controllers"),UPLOAD_SIGNATURE:"".concat(n,"api/users/upload-signature"),ASSIGN_SHIFT:"".concat(n,"api/shift/assign"),SHIFT_ACTIVE:"".concat(n,"api/shift/active"),SHIFT_FORM_TEMPLATE:"".concat(n,"api/shift-forms/aor-shift-form"),COMPANY:"".concat(n,"api/company"),SAVESHIFTVALUES:"".concat(n,"api/shift-forms/save-shift"),SET_ACTIVE_AOR:"".concat(n,"api/shift/set-active"),SYSTEM_THEMES:"".concat(n,"api/themes"),UPDATE_THEME:"".concat(n,"api/themes/set-user-theme"),USER_FOLDERS:"".concat(n,"api/documents/user-folders"),RENAME_FOLDER:"".concat(n,"api/documents/folders"),UPLOAD_FILES:"".concat(n,"api/documents/upload"),ASSIGNED_AORS:"".concat(n,"api/logbook/assigned-aors"),CATEGORIES:"".concat(n,"api/categories"),SAVE_LOG:"".concat(n,"api/logbook"),FETCH_LOG:"".concat(n,"api/logbook/by-aor"),MARK_IMP:"".concat(n,"api/logbook/toggle-important"),DELETE_LOG:"".concat(n,"api/logbook"),UPDATE_LOG:"".concat(n,"api/logbook"),LOGBOOK_EXPORT_PDF:"".concat(n,"api/logbook/export/pdf"),LOGOUT:"".concat(n,"api/auth/logout"),COMPANIES:"".concat(n,"api/company/admin"),CATEGORY:"".concat(n,"api/categories/admin"),ROLE:"".concat(n,"api/roles/admin"),THEMES:"".concat(n,"api/themes/admin"),FETCH_AOR:"".concat(n,"api/aor/admin"),FETCH_USERS:"".concat(n,"api/users/admin/show"),USER_ADD:"".concat(n,"api/users/admin"),USER_IMPORT:"".concat(n,"api/users/admin/import"),STATES:"".concat(n,"api/states"),CITIES:"".concat(n,"api/cities"),FACILITIES:"".concat(n,"api/facilities/admin"),QOS:"".concat(n,"api/quality-of-sleep/admin")}}}]);