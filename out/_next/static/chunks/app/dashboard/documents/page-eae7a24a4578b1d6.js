(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9088],{856980:function(e,t,o){Promise.resolve().then(o.bind(o,841501))},688317:function(e,t,o){"use strict";var n=o(557437);o(902265);var r=o(408319),i=o(938543);t.default=e=>{let{center:t=!1,inline:o=!1,size:a=40,...l}=e;return o?(0,n.jsx)(r.Z,{size:a,...l}):(0,n.jsx)(i.Z,{display:t?"flex":void 0,justifyContent:t?"center":void 0,alignItems:t?"center":void 0,width:t?"100vw":void 0,height:t?"100vh":void 0,minHeight:t?"100vh":void 0,position:t?"fixed":void 0,top:t?0:void 0,left:t?0:void 0,zIndex:t?1300:void 0,bgcolor:t?"background.default":void 0,children:(0,n.jsx)(r.Z,{size:a,...l})})}},841501:function(e,t,o){"use strict";o.d(t,{default:function(){return et}});var n,r,i=o(557437),a=o(902265),l=o(938543),s=o(790658),d=o(977639),c=o(788986),p=o(433145),u=o(633623),f=o(711102),x=o(118627),h=o(273977),g=o(658720),m=o(842858),b=o(512780),y=o(899765),w=o(560087),C=o(981435),j=e=>{let{id:t,onSuccess:o,onClose:n}=e,{t:r}=(0,x.$)(),a=(0,m.T)(),l=async e=>{if(e.newName)try{await a((0,b.p0)({id:t,name:String(e.newName)})).unwrap(),n(),a((0,y.wp)({message:r("documentRepository.folderRenamed"),type:w.N.Success})),o&&o()}catch(t){let e="string"==typeof t?t:r("documentRepository.folderRenamedError");a((0,y.wp)({message:e,type:w.N.Error}))}};return(0,i.jsx)(C.Z,{fields:[{name:"newName",label:r("documentRepository.enterName"),type:"text",required:!0,placeholder:r("documentRepository.enterName"),maxlength:50}],onSubmit:l,onCancel:n,submitLabel:r("documentRepository.rename")})},B=e=>{let{parentId:t,onSuccess:o,onClose:n}=e,{t:r}=(0,x.$)(),a=(0,m.T)(),l=async e=>{let i=e.name;try{await a((0,b.L6)(t?{name:i,parentId:t}:{name:i})).unwrap(),n(),o&&o(),a((0,y.wp)({message:r("documentRepository.folderCreatedSuccess"),type:w.N.Success}))}catch(t){let e="string"==typeof t?t:r("documentRepository.folderCreatedError");a((0,y.wp)({message:e,type:w.N.Error}))}};return(0,i.jsx)(C.Z,{fields:[{name:"name",label:r("documentRepository.folderName"),type:"text",required:!0,placeholder:r("documentRepository.enterFolderName"),maxlength:50}],onSubmit:l,onCancel:n,submitLabel:r("documentRepository.create"),cancelLabel:r("documentRepository.cancel")})},v=o(741368),R=o(8774),k=o(729376),F=e=>{let{parentId:t,onSuccess:o,open:n,onClose:r}=e,{t:s}=(0,x.$)(),c=(0,m.T)(),[p,u]=a.useState(null),[f,h]=a.useState([]),[C,j]=a.useState(!1),B=(0,R.u)(),F=async()=>{if(!p){c((0,y.wp)({message:s("documentRepository.uploadFileRequired"),type:w.N.Error}));return}j(!0);try{await c((0,b.cT)({file:p,tags:f,parentId:t})).unwrap(),c((0,y.wp)({message:s("documentRepository.uploadSuccess"),type:w.N.Success})),r(),null==o||o()}catch(t){let e="string"==typeof t?t:s("documentRepository.uploadError");c((0,y.wp)({message:e,type:w.N.Error}))}finally{j(!1)}};return n?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v.Z,{onChange:u,onValidationError:e=>c((0,y.wp)({message:e,type:w.N.Error})),accept:g._0,maxFileSizeMB:10}),(0,i.jsx)(l.Z,{sx:{marginTop:2},children:(0,i.jsx)(k.B,{value:f,onChange:h,maxTags:6,maxTagLength:13,placeholder:s("documentRepository.enterTag")})}),(0,i.jsxs)(l.Z,{sx:B.buttonRow,children:[(0,i.jsx)(d.Z,{variant:"outlined",onClick:r,disabled:C,sx:{...B.cancelButton,border:"none"},children:s("documentRepository.cancel")}),(0,i.jsx)(d.Z,{variant:"contained",onClick:F,disabled:C,sx:B.submitButton,children:C?"".concat(s("documentRepository.upload"),"..."):s("documentRepository.upload")})]})]}):null},S=o(451283),Z=o(838516),I=o(684787);let A=g.kn;var D=e=>{let{onFolderCreated:t,parentId:o,parentPathStack:n,tab:r,setTab:g,search:m,setSearch:b,setParentPathStack:y,onBreadcrumbNavigate:w}=e,{t:C}=(0,x.$)(),[j,v]=a.useState(!1),[R,k]=a.useState(!1),S=2===r?[{id:void 0,name:"Search"},...n]:[{id:void 0,name:"Root"},...n],D=e=>{if(0===e)y([]),null==w||w(void 0);else{y(n.slice(0,e));let t=n[e-1];null==w||w(null==t?void 0:t.id)}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l.Z,{sx:f.B.headerContainer,children:[(0,i.jsxs)(l.Z,{sx:f.B.titleContainer,children:[(0,i.jsx)(s.Z,{variant:"h6",sx:f.B.title,children:C("documentRepository.documentRepository")}),(0,i.jsx)(I.y,{allowedRoles:["Administrator","Active Controller"],children:(0,i.jsxs)(l.Z,{sx:f.B.buttonContainer,children:[(0,i.jsx)(d.Z,{variant:"outlined",startIcon:(0,i.jsx)(p.default,{src:u.VZ.addFolder,alt:"adFolder",width:24,height:24}),sx:f.B.button,onClick:()=>{v(!0)},children:C("documentRepository.newFolder")}),(0,i.jsx)(d.Z,{variant:"outlined",startIcon:(0,i.jsx)(p.default,{src:u.VZ.esign,alt:"esign",width:24,height:24}),sx:f.B.button,onClick:()=>{k(!0)},children:C("documentRepository.upload")})]})})]}),(0,i.jsxs)(l.Z,{sx:f.B.docheaderContainer,children:[(0,i.jsxs)(l.Z,{sx:f.B.leftSection,children:[(0,i.jsx)(l.Z,{sx:f.B.tabContainer,children:A.map((e,t)=>(0,i.jsx)(l.Z,{onClick:()=>g(t),sx:{...f.B.tab,background:r===t?"rgba(255,255,255,0.08)":"transparent",borderRight:t<A.length-1?"2px solid #fff":"none"},children:e},e))}),(0,i.jsx)(l.Z,{sx:{...f.B.breadcrumbConteiner,visibility:2===r?"visible":"hidden",opacity:2===r?1:0,transition:"opacity 0.3s ease-in-out"},children:(0,i.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",width:"100%"},children:[(0,i.jsx)(h.Z,{sx:f.B.searchIcon}),(0,i.jsx)(c.ZP,{placeholder:C("documentRepository.searchPlaceholder"),sx:f.B.inputBase,inputProps:{"aria-label":"search documents"},value:m,type:"text",onChange:e=>b(e.target.value)})]})})]}),(0,i.jsx)(l.Z,{sx:f.B.breadcrumbContent,children:(0,i.jsx)(s.Z,{variant:"subtitle1",sx:f.B.breadcrumbItem,children:S.map((e,t)=>(0,i.jsxs)("span",{onClick:()=>D(t),style:{cursor:"pointer",color:t===S.length-1?"#A0A3BD":"#3D96E1",transition:"color 0.2s ease"},onMouseEnter:e=>{t!==S.length-1&&(e.currentTarget.style.color="#5BA3E8")},onMouseLeave:e=>{t!==S.length-1&&(e.currentTarget.style.color="#3D96E1")},children:[e.name,t<S.length-1&&" / "]},e.id||"root"))})})]})]}),(0,i.jsx)(Z.Z,{open:j,onClose:()=>v(!1),title:C("documentRepository.createNewFolder"),children:(0,i.jsx)(B,{parentId:o,onSuccess:t,onClose:()=>v(!1)})}),(0,i.jsx)(Z.Z,{open:R,onClose:()=>k(!1),title:C("documentRepository.uploadFile"),children:(0,i.jsx)(F,{open:R,parentId:o,onSuccess:t,onClose:()=>k(!1)})})]})},z=o(736261),E=o(538266),T=o(385643),W=o(219352),O=o(18150),U=o(438156),N=o(703460),L=o(619391),P=o(594746);function M(){return(M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)({}).hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(null,arguments)}var H=function(e){return P.createElement("svg",M({width:16,height:16,fill:"none",viewBox:"0 0 24 24"},e),n||(n=P.createElement("rect",{width:18,height:16,x:3,y:5,stroke:"#3D96E1",rx:2})),r||(r=P.createElement("path",{stroke:"#3D96E1",d:"M16 3v4M8 3v4"})))},_=o(44291),V=o(440196);function $(e,t){if(!e)return"";if(t===u.SU)return e.length>12?"".concat(e.substring(0,12),"..."):e;{let t=e.includes(".")?e.substring(e.lastIndexOf(".")+1):"",o=e.includes(".")?e.substring(0,e.lastIndexOf(".")):e;return o.length>12?"".concat(o.substring(0,12),"...").concat(t||""):e}}var Y=e=>{let{items:t,onContainerClick:o,menuAnchorEl:n,menuTargetId:r,onMenuOpen:a,onMenuClose:d,onRename:c,handleDownload:h}=e,{t:g}=(0,x.$)();return(0,i.jsx)(W.Z,{container:!0,spacing:3,children:t.map(e=>{let t;if(!e||"object"!=typeof e)return null;let x="";if(e.updatedAt){let t=new Date(e.updatedAt);x="".concat(g("documentRepository.modified"),": ").concat(t.toLocaleDateString("en-US"))}if("file"===e.type){var m;let o=!!e.name&&/\.(png|jpg|jpeg|gif|webp)$/i.test(e.name),n=!!e.name&&/\.(mp3|wav|ogg|m4a|aac)$/i.test(e.name),r=!!e.name&&/\.(mp4|mov|avi|mkv|webm)$/i.test(e.name);t=o?(0,i.jsx)(p.default,{src:e.imageUrl||u.VZ.fileIcon,alt:e.name||"file",width:58,height:58,style:{...f.B.fileIcon,objectFit:"cover",borderRadius:4,fontSize:"1px",lineHeight:"1px",textAlign:"center"}}):n?(0,i.jsx)(l.Z,{sx:{backgroundColor:"#3b96e1",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",width:58,height:58},children:(0,i.jsx)(_.Z,{sx:{color:"#fff",fontSize:32}})}):r?(0,i.jsx)(l.Z,{sx:{backgroundColor:"#3b96e1",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",width:58,height:58},children:(0,i.jsx)(V.Z,{sx:{color:"#fff",fontSize:32}})}):(null===(m=e.name)||void 0===m?void 0:m.toLowerCase().endsWith(".pdf"))?(0,i.jsx)(p.default,{src:u.VZ.pdf,alt:"pdf",width:58,height:58,style:f.B.fileIcon}):(0,i.jsx)(p.default,{src:u.VZ.fileIcon,alt:"file",width:58,height:58,style:f.B.fileIcon})}else t=(0,i.jsx)(p.default,{src:u.VZ.files,alt:"folder",width:58,height:58,style:f.B.folderIcon});return e.type===u.HB?(0,i.jsx)(W.Z,{size:{xs:12,sm:6,md:4},children:(0,i.jsxs)(l.Z,{sx:f.B.fileCardHorizontal,children:[(0,i.jsx)(l.Z,{sx:f.B.fileIconContainer,children:t}),(0,i.jsxs)(l.Z,{sx:f.B.fileCardInfo,children:[(0,i.jsxs)(l.Z,{sx:f.B.fileCardHeader,children:[(0,i.jsx)(s.Z,{sx:f.B.fileCardName,children:$(e.name,e.type)}),(0,i.jsx)(s.Z,{sx:f.B.fileCardType,children:e.aorName||""})]}),(0,i.jsxs)(l.Z,{sx:f.B.fileCardDetails,children:[(0,i.jsxs)(l.Z,{sx:f.B.fileCardDate,children:[(0,i.jsx)("span",{style:f.B.calendarIcon,children:(0,i.jsx)(H,{})}),(0,i.jsx)(s.Z,{sx:f.B.fileCardDateText,children:e.createdAt?new Date(e.createdAt).toLocaleDateString(void 0,{year:"numeric",month:"2-digit",day:"2-digit"}):""})]}),(0,i.jsx)(s.Z,{sx:f.B.fileCardCreatedBy,children:e.createdBy?e.createdBy.length>5?"".concat(e.createdBy.charAt(0).toUpperCase()).concat(e.createdBy.slice(1,5),"..."):"".concat(e.createdBy.charAt(0).toUpperCase()).concat(e.createdBy.slice(1)):"-"}),(0,i.jsx)(s.Z,{sx:f.B.fileCardSize,children:e.folderSize||"-"})]}),(0,i.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[Array.isArray(e.tags)&&e.tags.length>0?(0,i.jsxs)(i.Fragment,{children:[e.tags.slice(0,2).map((e,t)=>(0,i.jsxs)("span",{style:{color:"#3D96E1",fontSize:"0.8em"},children:["#",e.length>3?"".concat(e.slice(0,3),".."):e]},e+t)),e.tags.length>2&&(0,i.jsx)(O.Z,{title:(0,i.jsx)(l.Z,{children:e.tags.slice(2).map((e,t)=>(0,i.jsxs)("div",{style:{marginBottom:"2px",color:"#3D96E1"},children:["#",e]},t))}),children:(0,i.jsxs)("span",{style:f.B.listTagMore,children:["+",e.tags.length-2]})})]}):(0,i.jsx)("span",{style:{color:"#A0A3BD"},children:"-"}),(0,i.jsx)(l.Z,{sx:{mt:.5},children:(0,i.jsx)(s.Z,{sx:f.B.fileCardVersion,children:e.__v||"1.0"})})]})]}),(0,i.jsx)(l.Z,{sx:f.B.fileCardDownloadBtnContainer,children:(0,i.jsx)(z.Z,{sx:f.B.fileCardDownloadBtn,onClick:t=>{t.stopPropagation(),e.imageUrl&&h(e.imageUrl,e.name)},children:(0,i.jsx)(p.default,{src:u.VZ.downloadFile,alt:"download",width:54,height:54,style:f.B.fileCardDownloadIcon})})})]})},e._id):(0,i.jsx)(W.Z,{size:{xs:12,sm:6,md:4},children:(0,i.jsx)(l.Z,{sx:f.B.fileContainer,onClick:()=>o(e._id,e.type,e.name),children:(0,i.jsxs)(l.Z,{sx:f.B.fileCardHeader,children:[t,(0,i.jsxs)(l.Z,{sx:f.B.fileCardNameContainer,children:[(0,i.jsx)(s.Z,{sx:f.B.folderName,children:$(e.name,e.type)}),"folder"===e.type&&void 0!==e.childrenCount&&(0,i.jsxs)(s.Z,{sx:f.B.info,children:[e.childrenCount," ",g("documentRepository.documents")]}),x&&(0,i.jsx)(s.Z,{sx:f.B.info,children:x})]}),"folder"===e.type?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(I.y,{allowedRoles:["Administrator","Active Controller"],children:["system"!==e.createdBy&&(0,i.jsx)(z.Z,{sx:f.B.menuIcon,onClick:t=>{t.stopPropagation(),a(t,e._id)},children:(0,i.jsx)(L.Z,{})}),(0,i.jsx)(U.Z,{anchorEl:n,open:r===e._id,onClose:d,PaperProps:{sx:f.B.menu},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClick:e=>e.stopPropagation(),children:(0,i.jsx)(N.Z,{sx:f.B.menuItem,onClick:t=>{t.stopPropagation(),c(e._id,e.name),d()},children:g("documentRepository.rename")})})]})}):(0,i.jsx)(p.default,{src:u.VZ.downloadFile,alt:"download",width:58,height:58,style:f.B.fileCardDownloadIcon,onClick:t=>{t.stopPropagation(),e.imageUrl&&h(e.imageUrl,e.name)}})]})})},e._id)})})},X=o(688317),q=o(155790),G=o(5894),J=o(843244),K=e=>{let{items:t,onContainerClick:o,onMenuClose:n,onRename:r,handleDownload:s,onSort:d,loading:c=!1}=e,{t:h}=(0,x.$)(),{sortBy:g,sortOrder:b}=(0,m.C)(e=>e.documents);(0,G.H)();let y=(0,a.useMemo)(()=>[{label:h("documentRepository.category"),field:"name",sortable:!0,render:e=>{var t,o;if(!e)return null;let n=!!e.name&&/\.(png|jpg|jpeg|gif|webp)$/i.test(e.name),r=!!e.name&&/\.(mp3|wav|ogg|m4a|aac)$/i.test(e.name),a=!!e.name&&/\.(mp4|mov|avi|mkv|webm)$/i.test(e.name);return(0,i.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.type===u.HB?n?(0,i.jsx)(p.default,{src:e.imageUrl||u.VZ.fileIcon,alt:(null===(t=e.name)||void 0===t?void 0:t.length)>3?e.name.slice(0,3)+"...":e.name,width:32,height:32,style:{objectFit:"cover",borderRadius:4}}):r?(0,i.jsx)(l.Z,{sx:{backgroundColor:"#3b96e1",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",width:32,height:30},children:(0,i.jsx)(_.Z,{sx:{color:"#fff",fontSize:20}})}):a?(0,i.jsx)(l.Z,{sx:{backgroundColor:"#3b96e1",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",width:32,height:30},children:(0,i.jsx)(V.Z,{sx:{color:"#fff",fontSize:20}})}):(null===(o=e.name)||void 0===o?void 0:o.toLowerCase().endsWith(".pdf"))?(0,i.jsx)(p.default,{src:u.VZ.pdf,alt:"pdf",width:32,height:32}):(0,i.jsx)(p.default,{src:u.VZ.fileIcon,alt:"file",width:32,height:32}):(0,i.jsx)(p.default,{src:u.VZ.files,alt:"fol",width:32,height:32}),(0,i.jsx)(O.Z,{title:e.name,children:(0,i.jsx)("span",{children:function(e,t){if(!e)return"";if(t===u.SU)return e.length>8?"".concat(e.substring(0,8),"..."):e;{let t=e.includes(".")?e.substring(e.lastIndexOf(".")+1):"",o=e.includes(".")?e.substring(0,e.lastIndexOf(".")):e;return/^\d+$/.test(o)||o.length>12?"".concat(o.substring(0,6),"..").concat(t?"."+t:""):e}}(e.name,e.type)})})]})}},{label:h("documentRepository.Document"),field:"childrenCount",sortable:!0},{label:h("documentRepository.fileSize"),field:"folderSize",sortable:!0},{label:h("documentRepository.aor"),field:"aorName",sortable:!0},{label:h("documentRepository.lastModified"),field:"updatedAt",sortable:!0,render:e=>(null==e?void 0:e.updatedAt)?new Date(e.updatedAt).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"},{label:h("documentRepository.createdBy"),field:"createdBy",sortable:!0,render:e=>(null==e?void 0:e.createdBy)?e.createdBy.charAt(0).toUpperCase()+e.createdBy.slice(1):"-"},{label:h("documentRepository.tags"),field:"tags",renderType:"tags"},{label:h("documentRepository.currentVersion"),field:"__v"}],[h]),w=(0,a.useMemo)(()=>[{icon:(0,i.jsx)(p.default,{src:u.VZ.rename,alt:"rename",width:24,height:24}),tooltip:"Rename",onClick:e=>{r(e._id,e.name),n()},show:e=>(null==e?void 0:e.type)===u.SU&&(null==e?void 0:e.createdBy)!=="system"},{icon:(0,i.jsx)(p.default,{src:u.VZ.download,alt:"download",width:24,height:24,style:f.B.downloadIcon}),tooltip:h("documentRepository.download"),onClick:e=>{e.imageUrl&&s(e.imageUrl,e.name)},show:e=>(null==e?void 0:e.type)!==u.SU}],[r,n,s]);return c?(0,i.jsx)(l.Z,{sx:f.B.loadContainer,children:(0,i.jsx)(X.default,{size:24,sx:{color:"#FFF"}})}):(0,i.jsx)(q.Z,{headers:y,rows:t,sortBy:null!=g?g:void 0,sortOrder:null!=b?b:void 0,onSort:e=>{let t=g===e&&b===u.hr?u.zE:u.hr;null==d||d(e,t)},actions:w,styles:J.V,noDataMessage:h("documentRepository.noDataFound"),onRowClick:e=>{e.type===u.SU&&o(e._id,e.type,e.name)}})};async function Q(e,t){try{let o=await fetch(e,{mode:"cors"}),n=await o.blob(),r=window.URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r)}catch(t){window.open(e,"_blank")}}let ee=(0,a.forwardRef)((e,t)=>{let{parentId:o,parentPathStack:n,setParentPathStack:r,tab:d,search:c,setSearch:p}=e,{t:h}=(0,x.$)(),g=(0,m.T)(),{folders:C,loading:B,error:v,children:R,deleteLoading:k,deleteError:F,totalPages:I,searchResults:A,searchLoading:D,searchError:W,searchPage:O,searchTotalPages:U,viewMode:N,sortBy:L,sortOrder:P}=(0,m.C)(e=>e.documents),[M,H]=a.useState(1),[_,V]=a.useState(!1);(0,a.useEffect)(()=>{V(n.length>0)},[n.length]);let[$,X]=a.useState(null),[q,G]=a.useState(null),[J,ee]=a.useState(!1),[et]=a.useState(null),[eo,en]=a.useState(!1),[er,ei]=a.useState(null),ea=(e,t,o)=>{g((0,b.c2)()),"folder"===t&&(H(1),g((0,b.cy)({id:e,sortBy:"updatedAt",sortOrder:"desc"})),r([...n,{id:e,name:o}]),V(!0),p(""))},el=(e,t)=>{X(e.currentTarget),G(t)},es=()=>{X(null),G(null)},ed=(e,t)=>{2===d?c&&c.trim().length>0?g((0,b.U)({search:c,id:_?o:void 0,page:ex,sortBy:e,sortOrder:t})):g((0,b.cy)({id:_?o:void 0,page:ex,sortBy:e,sortOrder:t})):g((0,b.cy)({id:_?o:void 0,page:ex,recent:1===d,sortBy:e,sortOrder:t}))},ec=(e,t)=>{es(),ei({id:e,name:t}),en(!0)},ep=async()=>{if(et)try{await g((0,b.Go)(et.id)).unwrap(),ee(!1),g((0,y.wp)({message:h("documentRepository.folderDeleted"),type:w.N.Success}))}catch(e){g((0,y.wp)({message:h("documentRepository.folderDeletedError"),type:w.N.Error}))}},eu=()=>{let e={sortBy:L||"updatedAt",sortOrder:P||"desc"};if(M>1&&(e.page=M),2===d&&(null==c?void 0:c.trim())){g((0,b.U)({search:c,...e}));return}if(_&&o){g((0,b.cy)({id:o,...e}));return}g((0,b.cy)(e))};(0,a.useImperativeHandle)(t,()=>({refetch:eu})),(0,a.useEffect)(()=>{if(2===d)return;let e={sortBy:L||void 0,sortOrder:P||void 0};M>1&&(e.page=M),_&&o?g((0,b.cy)({id:o,...e})):1===d?g((0,b.cy)({recent:!0,...e})):g((0,b.cy)(e))},[g,o,M,_,d,L,P]),(0,a.useEffect)(()=>{if(2===d){if(c&&c.trim().length>0){let e=setTimeout(()=>{g((0,b.U)({search:c,id:_?o:void 0,page:M,sortBy:L||void 0,sortOrder:P||void 0}))},400);return()=>clearTimeout(e)}g((0,b.Ug)())}},[d,c,_,o,M,g]);let{items:ef,currentPage:ex,totalPagesCount:eh,isLoading:eg,error:em}=(()=>{if(2!==d)return{items:_?R||[]:C||[],currentPage:M,totalPagesCount:I||1,isLoading:B,error:v};{let e=c&&c.trim().length>0;return{items:e?A||[]:_?R||[]:C||[],currentPage:e?O||1:M,totalPagesCount:e?U||1:I||1,isLoading:e?D:B,error:e?W:v}}})(),eb=1===d?_&&(ef.length>9||eh>1):ef.length>9||eh>1;return em?(0,i.jsx)(l.Z,{sx:f.B.errorContainer,children:em}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l.Z,{sx:f.B.contentContainer,children:[(0,i.jsxs)(l.Z,{sx:f.B.headerContainers(_),children:[_?_?(0,i.jsx)("button",{onClick:()=>{g((0,b.c2)()),r(e=>{let t=e.slice(0,-1),o=t.length>0?t[t.length-1].id:void 0;H(1);let n="updatedAt",r="desc";return 1===d?o?g((0,b.cy)({id:o,sortBy:n,sortOrder:r})):g((0,b.cy)({recent:!0,sortBy:n,sortOrder:r})):2===d?o?(g((0,b.cy)({id:o,sortBy:n,sortOrder:r})),p("")):g((0,b.U)({search:c,sortBy:n,sortOrder:r})):o?g((0,b.cy)({id:o,sortBy:n,sortOrder:r})):g((0,b.cy)({sortBy:n,sortOrder:r})),V(t.length>0),t})},style:f.B.backButton,children:h("documentRepository.back")}):null:(0,i.jsx)(s.Z,{variant:"h6",sx:f.B.contentTitle,children:1===d?h("documentRepository.recent"):2===d?h("documentRepository.searchResults"):h("documentRepository.root")}),(0,i.jsxs)(l.Z,{sx:f.B.viewToggleContainer,children:[(0,i.jsx)(z.Z,{onClick:()=>g((0,b.hm)(u.aM)),sx:f.B.viewToggleButton(N===u.aM),children:(0,i.jsx)(E.Z,{fontSize:"small"})}),(0,i.jsx)(z.Z,{onClick:()=>g((0,b.hm)(u.i2)),sx:f.B.viewToggleButton(N===u.i2),children:(0,i.jsx)(T.Z,{fontSize:"small"})})]})]}),(0,i.jsx)(l.Z,{sx:f.B.contentScrollArea,children:(()=>{if(0===ef.length)return(0,i.jsx)(l.Z,{sx:f.B.noDataContainer,children:h("documentRepository.noDataFound")});let e={items:ef,onContainerClick:ea,menuAnchorEl:$,menuTargetId:q,onMenuOpen:el,onMenuClose:es,onRename:ec,handleDownload:Q,onSort:ed,loading:eg};return N===u.i2?(0,i.jsx)(Y,{...e,isChildren:_}):(0,i.jsx)(K,{...e})})()}),(0,i.jsx)(S.Z,{currentPage:ex,currentLimit:9,totalPages:eh,onPageChange:e=>{H(e),2===d?g((0,b.U)({search:c,id:_?o:void 0,page:e,sortBy:L||void 0,sortOrder:P||void 0})):g((0,b.cy)({id:_?o:void 0,page:e,recent:1===d,sortBy:L||void 0,sortOrder:P||void 0}))},showPagination:eb})]}),(0,i.jsxs)(Z.Z,{open:J,onClose:()=>ee(!1),title:et?"".concat(h("documentRepository.delete"),' "').concat(et.name,'"'):h("documentRepository.delete"),actionLabel:h("documentRepository.delete"),onAction:ep,actionLoading:k,cancelLabel:h("documentRepository.cancel"),children:[(0,i.jsx)(s.Z,{sx:f.B.modalTypography,children:et?"".concat(h("documentRepository.deleteConfirm"),' "').concat(et.name,'"?'):h("documentRepository.deleteConfirm")}),F&&(0,i.jsx)(s.Z,{color:"error",sx:f.B.errorTypography,children:F})]}),(0,i.jsx)(Z.Z,{open:eo,onClose:()=>en(!1),title:er?"".concat(h("documentRepository.rename"),' "').concat(er.name,'"'):h("documentRepository.rename"),children:er&&(0,i.jsx)(j,{id:er.id,name:er.name,onClose:()=>en(!1),onSuccess:()=>{en(!1),2===d&&c&&c.trim().length>0&&g((0,b.U)({search:c,id:_?o:void 0,page:M}))},parentId:o,showChildren:_,tab:d,search:c,page:M})})]})});ee.displayName="DocumentRepoContent";var et=()=>{let e=(0,a.useRef)(null),[t,o]=(0,a.useState)([]),n=t.length>0?t[t.length-1].id:void 0,[r,s]=(0,a.useState)(0),[d,c]=(0,a.useState)(0),[p,u]=(0,a.useState)(""),x=(0,m.C)(e=>e.documents.folders)||[],h=(0,m.C)(e=>e.documents.children)||null;(0,a.useEffect)(()=>{r!==d&&(o([]),c(r),2===d&&2!==r&&u(""))},[r,d]);let g=(0,a.useCallback)(()=>{var t;null===(t=e.current)||void 0===t||t.refetch()},[]),b=(0,a.useCallback)(()=>{setTimeout(()=>{var t;null===(t=e.current)||void 0===t||t.refetch()},0)},[]);return(0,i.jsxs)(l.Z,{id:"main-card",sx:f.B.container,children:[(0,i.jsx)(D,{onFolderCreated:g,parentId:n,parentPathStack:t,folders:x||[],child:h||null,tab:r,setTab:s,search:p,setSearch:u,setParentPathStack:o,onBreadcrumbNavigate:b}),(0,i.jsx)(ee,{ref:e,parentId:n,setParentPathStack:o,parentPathStack:t,tab:r,setTab:s,search:p,setSearch:u},r)]})}},5894:function(e,t,o){"use strict";o.d(t,{H:function(){return n}});let n=()=>({container:{background:"#1A1A1A26",backdropFilter:"blur(50.25px)",borderRadius:"20px",borderTop:"4px solid #3D96E1",boxShadow:"\n    8.13px 8.13px 24.38px -5.2px #FFFFFF66 inset,\n    -16.25px -8.13px 8.13px -5.2px #FFFFFF33 inset,\n    0px 0px 20.8px -5.2px #FFFFFF33 inset\n  ",overflow:"hidden",width:"100%",height:"100%",display:"flex",flexDirection:"column"},tabsContainer:{backgroundColor:"#FFFFFF45",minHeight:0,padding:"0 10px",display:"flex",alignItems:"center",justifyContent:"space-between","& .MuiTabs-flexContainer":{gap:0},"& .MuiTabs-indicator":{display:"none"}},tabsFlex:{flex:1},noScrollBar:{overflowY:"scroll",scrollbarWidth:"none",msOverflowStyle:"none","&::-webkit-scrollbar":{display:"none"}},tab:{height:10,px:3,textTransform:"none",fontSize:"0.8rem",fontWeight:500,color:"#fff",backgroundColor:"transparent",borderRadius:"8px 8px 0 0",minWidth:"auto","&.Mui-selected":{color:"#FFF",fontWeight:500,py:3,backgroundColor:"#69728585"}},exportButton:{background:"transparent",color:"#fff",borderRadius:2,fontWeight:400,fontSize:"1rem",padding:"4px 8px",cursor:"pointer",border:"0.5px solid #fff",transition:"background 0.2s","&:disabled":{opacity:.5,color:"#fff",borderColor:"#fff",cursor:"not-allowed"}},tabContentWrapper:{display:"flex",flexDirection:"column",alignItems:"center"},activeTabIndicator:{width:"100%",height:2,borderRadius:2},tabLabel:{display:"flex",alignItems:"center",gap:1},header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:24,paddingBottom:8,borderBottom:"1.5px solid #2C3E50"},title:{color:"#fff",fontSize:"1rem",fontWeight:600,mb:.5},tabs:{display:"flex",gap:12,alignItems:"center"},searchBar:{display:"flex",alignItems:"center",gap:1,margin:"12px 0",background:"transparent",borderRadius:2,padding:"2px 12px",border:"1px solid #fff"},searchInput:{flex:1,background:"transparent",border:"none",color:"#fff",fontSize:"1rem",outline:"none",padding:"2px 0"},filterButton:{background:"linear-gradient(160.41deg, rgba(111, 185, 248, 0.5) -5.15%, rgba(61, 150, 225, 0.5) 87.35%)",boxShadow:"\n      0px 3px 4px 0px #DFEEFF4D inset,\n      0px 1px 1px 0px #FFFFFF59 inset,\n      0px -2px 2px 0px #00428926 inset,\n      0px 2px 3px 0px #347CD14D\n    ",backdropFilter:"blur(5.25px)",WebkitBackdropFilter:"blur(5.25px)",color:"#FFFFFF",borderRadius:24,px:4,fontWeight:500,fontSize:"0.8rem",textTransform:"none",height:38},addButton:{background:"#A0A3BD47",backdropFilter:"blur(5.25px)",WebkitBackdropFilter:"blur(5.25px)",color:"#fff",borderRadius:24,px:4,fontWeight:500,fontSize:"0.8rem",textTransform:"none",height:38,border:"none"},tableContainer:{background:"#1B2B3C",borderRadius:12,overflow:"auto"},table:{width:"100%",borderCollapse:"separate",borderSpacing:0,color:"#fff",fontSize:"0.98rem"},tableHead:{background:"#22344A",fontWeight:700,color:"#A0A3BD"},tableRow:{borderBottom:"1px solid #2C3E50","&:hover":{background:"#22344A55"}},tableCell:{padding:"12px 10px",textAlign:"left",fontWeight:500,color:"#fff",borderBottom:"1px solid #2C3E50"},statusChip:e=>({display:"inline-block",padding:"4px 12px",borderRadius:12,background:e,color:"#fff",fontWeight:600,fontSize:"0.9rem",minWidth:60,textAlign:"center"}),iconButton:{background:"none",border:"none",color:"#A0A3BD",cursor:"pointer",fontSize:"1.1rem",margin:"0 4px","&:hover":{color:"#3D96E1"}},topBar:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 16px 0 16px",background:"transparent",minHeight:48,width:"100%"},topBarTitle:{fontSize:"1.2rem",fontWeight:700,color:"#fff",marginRight:24},topBarStatus:{display:"flex",alignItems:"center",gap:16,color:"#A0A3BD",fontSize:"0.95rem",flex:1},topBarStatusItem:{display:"flex",alignItems:"center",gap:1,color:"#3B96E1",fontSize:"0.95rem"},topBarActions:{display:"flex",alignItems:"center",gap:8},topBarButton:{background:"none",border:"none",color:"#A0A3BD",fontSize:"1.3rem",borderRadius:"50%",width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s",cursor:"pointer","&:hover":{background:"#22344A",color:"#3D96E1"}},tabbContainer:{display:"flex",border:"1px solid #fff",borderRadius:2,overflow:"hidden",alignItems:"stretch",justifyContent:"flex-start",mt:1,height:40,width:"30%"},tabb:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",color:"#fff",fontWeight:400,fontSize:"0.8rem",cursor:"pointer",transition:"background 0.2s",userSelect:"none",height:40,background:"transparent",boxShadow:"none",borderRight:"1px solid #FFF",borderRadius:0,minWidth:70,"&:last-of-type":{borderRight:"none"}},micButton:{background:"none",color:"#A0A3BD",border:"1px solid #fff",borderRadius:"50%",width:40,height:40,display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s",cursor:"pointer","&:hover":{background:"#22344A",color:"#3D96E1"}},tableHeaderCell:{color:"#fff",fontWeight:500},tableBodyCell:{color:"#fff",fontWeight:500},tableHeaderRow:{background:"#3D96E1"},noDataRow:{color:"#fff",paddingTop:4,paddingBottom:4},tableBodyRow:{background:"#1A1A1A26",borderBottom:"2px solid #FFF",cursor:"pointer",fontSize:"0.9rem","&:hover":{background:"rgba(255, 255, 255, 0.05)"}},tabsFlexContainer:{minHeight:0,overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none",msOverflowStyle:"none","&::-webkit-scrollbar":{display:"none"},"& .MuiTabs-flexContainer":{gap:0,minWidth:"max-content"},"& .MuiTabs-indicator":{display:"none"}},tabWithDot:{display:"flex",alignItems:"center",gap:1},tabDot:{fontSize:12},tabSelected:{color:"#FFF",fontWeight:500,py:3,backgroundColor:"#5e544285"},headerActionsContainer:{display:"flex",alignItems:"center",gap:1,ml:2},headerIcon:{objectFit:"contain",cursor:"pointer"},headerIconMaximize:{cursor:"pointer"},headerIconMinimize:{cursor:"pointer"},headerIconAdd:{cursor:"pointer"},topBarContent:{display:"flex",flexDirection:"column",flex:1},topBarHeader:{display:"flex",alignItems:"center",justifyContent:"space-between"},topBarStatusContainer:{display:"flex",gap:2},filterSearchContainer:{display:"flex",alignItems:"center",justifyContent:"space-between",px:2},searchContainer:{display:"flex",alignItems:"center",gap:1,minWidth:350,flex:1,justifyContent:"flex-end"},tabbLeftRadius:{borderTopLeftRadius:8,borderBottomLeftRadius:8},tabbRightRadius:{borderTopRightRadius:8,borderBottomRightRadius:8,borderRight:"none"},addRowContainer:{mt:3,px:1,display:"flex",flexDirection:"column",gap:2},addRowScrollableContent:{maxHeight:120,overflowY:"auto",display:"flex",flexDirection:"column",gap:2,paddingRight:1,"&::-webkit-scrollbar":{width:8},"&::-webkit-scrollbar-track":{background:"rgba(255, 255, 255, 0.1)",borderRadius:4},"&::-webkit-scrollbar-thumb":{background:"rgba(255, 255, 255, 0.3)",borderRadius:4,"&:hover":{background:"rgba(255, 255, 255, 0.5)"}}},addRowItem:{display:"flex",alignItems:"center",gap:2},selectContainer:{minWidth:180,display:"flex",alignItems:"center",border:"1px solid #fff",background:"transparent",width:220,minHeight:40,padding:"2px 8px",whiteSpace:"nowrap",borderRadius:2,overflowX:"auto",overflowY:"hidden",scrollBehavior:"smooth","&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"},selectInput:{width:"100%",border:"none",outline:"none",background:"transparent",color:"#fff",paddingLeft:8},selectOption:{background:"#1A1A1A26",backdropFilter:"blur(16.25px)",boxSizing:"border-box",boxShadow:"\n    inset 8.13px 8.13px 24.38px -5.2px #FFFFFF66,\n    inset -16.25px -8.13px 8.13px -5.2px #FFFFFF33,\n    inset 0px 0px 20.8px -5.2px #FFFFFF33\n  ",color:"#FFFFFF",borderRadius:"12px",padding:"8px 12px",appearance:"none",WebkitAppearance:"none",MozAppearance:"none",position:"relative",zIndex:1,overflowY:"auto",scrollbarWidth:"thin",scrollbarColor:"#FFF transparent","&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-thumb":{background:"#FFF3",borderRadius:"8px"},"&::-webkit-scrollbar-track":{background:"transparent"}},textInput:{width:"100%",height:40,borderRadius:8,border:"1px solid #fff",background:"transparent",color:"#fff",paddingLeft:8},flexInput:{flex:1,display:"flex",alignItems:"center",border:"1px solid #fff",background:"transparent",width:220,minHeight:40,padding:"2px 8px",overflowX:"auto",whiteSpace:"nowrap",borderRadius:2},closeButtonContainer:{display:"flex",mt:1,gap:2,justifyContent:"space-between",alignItems:"center",px:1},exportIconContainer:{display:"flex",alignItems:"center"},exportIcon:{objectFit:"contain"},statusIcon:{fontSize:18,color:"#3D96E1"},statusDot:{fontSize:12,color:"#3D96E1"},searchIcon:{color:"#A0A3BD"},contentTableContainer:{background:"transparent",boxShadow:"none",borderRadius:4,mt:1,mb:2,overflow:"hidden",scrollbarWidth:"none",msOverflowStyle:"none","&::-webkit-scrollbar":{display:"none"}},contentTable:{minWidth:650},starIcon:{verticalAlign:"middle"},starIconBookmarked:{color:"#FFD600",verticalAlign:"middle"},starIconUnbookmarked:{color:"#FFF",verticalAlign:"middle"},tagChip:{marginRight:.5,background:"#22344A",color:"#fff"},actionIcon:{verticalAlign:"middle"},scrollableContent:{flex:1,overflowY:"auto",overflowX:"hidden",padding:"16px",scrollBehavior:"smooth",transition:"all 0.3s ease-in-out","&::-webkit-scrollbar":{width:8},"&::-webkit-scrollbar-track":{background:"rgba(255, 255, 255, 0.1)",borderRadius:4},"&::-webkit-scrollbar-thumb":{background:"rgba(255, 255, 255, 0.3)",borderRadius:4,"&:hover":{background:"rgba(255, 255, 255, 0.5)"}}},scrollButton:{color:"#fff",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",width:32,height:32,margin:"0 4px","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.2)"},"&:disabled":{color:"rgba(255, 255, 255, 0.3)",backgroundColor:"transparent"}},noEntriesContainer:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",flexDirection:"column",gap:2},noEntriesText:{color:"#FFF",fontSize:"18px"},filecount:{position:"absolute",top:-8,right:-8,backgroundColor:"#1976d2",color:"white",borderRadius:"50%",width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:"bold"},inputfield:{minWidth:60,flex:1,border:"none",outline:"none",background:"transparent",color:"#fff",boxShadow:"none",padding:0,margin:0,fontSize:14,width:100},status:{fontWeight:"bold",borderRadius:"12px",px:1.5,py:.5,color:"#fff"}})}},function(e){e.O(0,[1425,8969,6799,970,7639,8977,9858,9352,3145,7286,3886,8150,793,1907,9916,9885,8188,1571,2357,8516,1435,2971,2117,1744],function(){return e(e.s=856980)}),_N_E=e.O()}]);