(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7663,2428],{713449:function(e,t,o){Promise.resolve().then(o.bind(o,133289))},133289:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return C}});var i=o(557437),n=o(902265),r=o(938543),a=o(525122),l=o(633623);let s=(e,t,o,i)=>({root:{display:"flex",height:"100vh",width:"100vw",overflow:"hidden",background:"url(".concat(t||l.VZ.bgPicture,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundBlendMode:"darken",position:"relative",transition:"all 0.3s ease-in-out"},overlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:o||"rgba(0, 0, 0, 0.45)",opacity:null!=i?i:.45,pointerEvents:"none",zIndex:1},main:{display:"flex",height:"100vh",width:"100vw",overflow:"hidden",zIndex:2},pageContent:{flex:1,display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden",padding:"10px"},content:{flex:1,overflowY:"auto",overflowX:"hidden",WebkitOverflowScrolling:"touch",scrollBehavior:"smooth",padding:"10px 0px",height:"100%",boxSizing:"border-box",transition:"opacity 0.4s ease, transform 0.4s ease",opacity:0,transform:"translateY(20px)",position:"relative","&.loaded":{opacity:1,transform:"translateY(0)"},"&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"},dragbutton:{background:"#1A1A1A26",backdropFilter:"blur(16.25px)",WebkitBackdropFilter:"blur(16.25px)",boxShadow:"\n    8.13px 8.13px 24.38px -5.2px #FFFFFF66 inset,\n    -16.25px -8.13px 8.13px -5.2px #FFFFFF33 inset,\n    0px 0px 20.8px -5.2px #FFFFFF33 inset\n  ",borderRadius:"50%",padding:2,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",animation:"blink 2s ease-in-out infinite, bubblePulse 2s ease-in-out infinite","@keyframes blink":{"0%, 100%":{background:"#1A1A1A26",boxShadow:"\n        8.13px 8.13px 24.38px -5.2px #FFFFFF66 inset,\n        -16.25px -8.13px 8.13px -5.2px #FFFFFF33 inset,\n        0px 0px 20.8px -5.2px #FFFFFF33 inset,\n        0px 0px 15px 0px rgba(255, 255, 255, 0.3)\n      "},"50%":{background:"#3D96E126",boxShadow:"\n        8.13px 8.13px 24.38px -5.2px #3D96E166 inset,\n        -16.25px -8.13px 8.13px -5.2px #3D96E133 inset,\n        0px 0px 20.8px -5.2px #3D96E133 inset,\n        0px 0px 20px 0px rgba(61, 150, 225, 0.6)\n      "}},"@keyframes bubblePulse":{"0%, 100%":{transform:"scale(1)",boxShadow:"0 0 12px rgba(61, 150, 225, 0.6), 0 0 24px rgba(61, 150, 225, 0.3)"},"50%":{transform:"scale(1.1)",boxShadow:"0 0 25px rgba(61, 150, 225, 0.9), 0 0 45px rgba(61, 150, 225, 0.5)"}}},loader:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},draggableDiaryButton:(e,t)=>({position:"fixed",left:e.x,top:e.y,zIndex:9999,cursor:t?"grabbing":"grab",userSelect:"none"}),diaryImage:{width:44,height:46,display:"block"},fullscreenOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:1200,background:"rgba(10, 20, 40, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"auto"},fullscreenContent:{width:"100vw",height:"100vh",overflow:"auto",borderRadius:0,boxShadow:"none",background:"transparent",pointerEvents:"auto"},logbookBackdrop:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:999,pointerEvents:"auto"},logbookOverlay:{position:"absolute",bottom:"4px",right:"0px",width:"100%",height:"70%",zIndex:1e3,maxHeight:"600px",minHeight:"400px",pointerEvents:"auto",display:"flex",flexDirection:"column"}});var d=o(830166),c=o(688317),p=o(861458),u=o(842858),x=o(311137),f=o(331016),g=o(712643),h=o(513967),b=o(799376),m=o(935740),F=o(312488);let v=(0,d.default)(()=>Promise.all([o.e(7826),o.e(2097)]).then(o.bind(o,852097)),{loadableGenerated:{webpack:()=>[852097]},ssr:!1}),w=(0,d.default)(()=>o.e(8382).then(o.bind(o,658382)),{loadableGenerated:{webpack:()=>[658382]},ssr:!1});function C(e){var t;let{children:o}=e,d=(0,a.Z)();(0,p.E)(l.h1);let{user:C,selectedRole:k}=(0,u.C)(e=>e.auth),{themes:y}=(0,u.C)(e=>e.theme),[Z,j]=(0,n.useState)(void 0),[W,S]=(0,n.useState)(!1),[I,E]=(0,n.useState)(!1),[A,B]=(0,n.useState)({x:100,y:100}),[z,R]=(0,n.useState)(!1),[D,U]=(0,n.useState)({x:0,y:0}),P=(0,b.usePathname)(),Q=null!==(t=null==P?void 0:P.includes(l.QZ.logbook))&&void 0!==t&&t,[M,T]=(0,n.useState)(!1),[O,H]=(0,n.useState)(!1),V=(0,u.T)();(0,n.useEffect)(()=>{B({x:window.innerWidth-48-84,y:window.innerHeight-60-84})},[]),(0,n.useEffect)(()=>{if(!z)return;let e=e=>{let t=window.innerWidth-48-24,o=window.innerHeight-50-24;B({x:Math.max(24,Math.min(e.clientX-D.x,t)),y:Math.max(24,Math.min(e.clientY-D.y,o))})},t=()=>R(!1);return window.addEventListener("mousemove",e),window.addEventListener("mouseup",t),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)}},[z,D]);let _=(0,n.useMemo)(()=>(0,f.U9)(C,y,Z),[C,y,Z]);(0,n.useEffect)(()=>{let e=setTimeout(()=>{E(!0)},200);return()=>clearTimeout(e)},[]),(0,n.useEffect)(()=>{C&&0===y.length&&V((0,g.Wf)())},[C,y.length,V]),(0,n.useEffect)(()=>{(null==C?void 0:C.theme)&&j(void 0)},[null==C?void 0:C.theme]);let L=(0,n.useMemo)(()=>s(d,_.imageUrl,_.colorCode,_.opacity),[d,_]);return I?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(F.Z,{requireAuth:!0,children:[(0,i.jsxs)(r.Z,{sx:L.root,position:"relative",children:[(0,i.jsx)(r.Z,{sx:L.overlay}),(0,i.jsxs)(r.Z,{sx:L.main,position:"relative",zIndex:2,children:[(0,i.jsx)(v,{}),(0,i.jsxs)(r.Z,{sx:L.pageContent,children:[(0,i.jsx)(w,{onOpenBgPicker:()=>S(!0)}),(0,i.jsx)(r.Z,{sx:{...L.content,...(M||O)&&!Q&&{overflow:"hidden"}},className:I?"loaded":"",children:Q||!M||O?o:(0,i.jsx)(r.Z,{onClick:e=>e.stopPropagation(),children:(0,i.jsx)(h.default,{showToggleIcon:!0,showMaximizeIcon:!0,onToggleLogbook:()=>T(!1),onMaximizeLogbook:()=>H(!0)})})})]})]}),"Administrator"!==k&&!Q&&!M&&(0,i.jsx)(r.Z,{sx:{...L.draggableDiaryButton(A,z),...L.dragbutton},children:(0,i.jsx)("img",{src:l.VZ.diary,alt:"diary",style:L.diaryImage,onMouseDown:e=>{R(!0),U({x:e.clientX-A.x,y:e.clientY-A.y})},onClick:()=>T(!0),draggable:!1})}),(0,i.jsx)(x.Z,{open:W,onClose:()=>{S(!1),j(void 0)},onLivePreview:e=>j(e),onApply:()=>{S(!1)},userTheme:(null==C?void 0:C.theme)||{}})]}),(0,i.jsx)(m.Z,{in:O,timeout:400,unmountOnExit:!0,children:(0,i.jsx)(r.Z,{sx:L.fullscreenOverlay,onClick:()=>H(!1),children:(0,i.jsx)(r.Z,{sx:L.fullscreenContent,onClick:e=>e.stopPropagation(),children:(0,i.jsx)(h.default,{showToggleIcon:!0,showMinimizeIcon:!0,onToggleLogbook:()=>{T(!1),H(!1)},onMinimizeLogbook:()=>H(!1)})})})})]})}):(0,i.jsx)(r.Z,{sx:L.loader,children:(0,i.jsx)(c.default,{})})}},311137:function(e,t,o){"use strict";var i=o(557437),n=o(902265),r=o(34247),a=o(935740),l=o(73985),s=o(736261),d=o(966825),c=o(938543),p=o(977639),u=o(790658),x=o(933446),f=o(600663),g=o(433145),h=o(27354),b=o(8774),m=o(842858),F=o(712643),v=o(389470),w=o(203484),C=o(838516),k=o(741368),y=o(899765),Z=o(560087),j=o(633623),W=o(118627),S=o(658720),I=o(331016);let E=[Array.from({length:18},(e,t)=>"hsl(0, 0%, ".concat((100-100*t/17).toFixed(0),"%)")),...Array.from({length:9},(e,t)=>Array.from({length:18},(e,o)=>"hsl(".concat(20*o,", 100%, ").concat((95-5*t).toFixed(0),"%)")))];t.Z=e=>{var t,o,A,B;let{open:z,onClose:R,onLivePreview:D,onApply:U,userTheme:P={}}=e,Q=(0,m.T)(),{themes:M}=(0,m.C)(e=>e.theme),{user:T}=(0,m.C)(e=>e.auth),O=(0,b.u)(),H=(0,I.Wf)(M),V=(0,I.DU)(M),[_,L]=(0,n.useState)(j.EJ),[N,Y]=(0,n.useState)(null!==(o=P.colorCode)&&void 0!==o?o:S.uf[0]),[G,J]=(0,n.useState)(null!==(A=P.opacity)&&void 0!==A?A:.45),[q,X]=(0,n.useState)(null!==(B=P.imageUrl)&&void 0!==B?B:j.VZ.bgPic),[$,K]=(0,n.useState)(!1),[ee,et]=(0,n.useState)(null),[eo,ei]=(0,n.useState)(!1),{t:en}=(0,W.$)(),er=E.flat(),ea=(null===(t=E[0])||void 0===t?void 0:t.length)||18;(0,n.useEffect)(()=>{z&&Q((0,F.Wf)())},[z,Q]),(0,n.useEffect)(()=>{var e;if(P.isSelected===j.we&&(null===(e=P.theme)||void 0===e?void 0:e._id)){let e=M.find(e=>e._id===P.theme._id);e&&X(e.imageUrl||j.VZ.bgPic)}else P.isSelected===j.qN?X(P.imageUrl||j.VZ.bgPic):P.imageUrl&&X(P.imageUrl||j.VZ.bgPic);P.colorCode&&Y(P.colorCode),void 0!==P.opacity&&J(P.opacity)},[P,M]),(0,n.useEffect)(()=>{if(null==T?void 0:T.theme){var e;let t=T.theme;if(t.isSelected===j.we&&(null===(e=t.theme)||void 0===e?void 0:e._id)){let e=M.find(e=>e._id===t.theme._id);e&&X(e.imageUrl||j.VZ.bgPic)}else t.isSelected===j.qN&&X(t.imageUrl||j.VZ.bgPic);t.colorCode&&Y(t.colorCode),void 0!==t.opacity&&J(t.opacity)}},[null==T?void 0:T.theme,M]);let el=(0,n.useCallback)(e=>{Y(e),D({imageUrl:q,colorCode:e,opacity:G})},[D,G,q]),es=(0,n.useCallback)(e=>{let t=e/100;J(t),D({imageUrl:q,colorCode:N,opacity:t})},[D,q,N]),ed=(0,n.useCallback)(e=>{X(e),D({imageUrl:e,colorCode:N,opacity:G})},[D,N,G]),ec=(0,n.useCallback)(e=>{e!==_&&L(e)},[_]),ep=(0,n.useCallback)(async()=>{if(q)try{let e;await Q((0,F.Wf)()).unwrap();let t=M.find(e=>e.imageUrl===q);e=t&&!t.isSelected?{themeId:t._id,colorCode:N,opacity:G}:{bgImage:q,colorCode:N,opacity:G},await Q((0,F.ac)(e)).unwrap(),U({imageUrl:q,colorCode:N,opacity:G}),R()}catch(e){Q((0,y.wp)({message:en("backgroundImage.FailedtoUpload"),type:Z.N.Error}))}},[Q,q,N,G,U,R,M]),eu=()=>{var e,t,o,i;$||((null==T?void 0:null===(e=T.theme)||void 0===e?void 0:e.isSelected)||(X(null!==(t=P.imageUrl)&&void 0!==t?t:j.VZ.bgPic),Y(null!==(o=P.colorCode)&&void 0!==o?o:S.uf[0]),J(null!==(i=P.opacity)&&void 0!==i?i:.45)),L(j.EJ),et(null),ei(!1),D({imageUrl:q,colorCode:N,opacity:G}),R())},ex=async()=>{if(ee){ei(!0);try{let e=await Q((0,F.Tn)({file:ee,colorCode:N,opacity:G})).unwrap();if(await Q((0,F.Wf)()).unwrap(),e){let t={bgImage:e.imageUrl,colorCode:N,opacity:G};await Q((0,F.ac)(t)).unwrap(),X(e.imageUrl),U({imageUrl:e.imageUrl,colorCode:N,opacity:G})}K(!1),et(null)}catch(t){let e="string"==typeof t?t:en("backgroundImage.uploadFail");Q((0,y.wp)({message:e,type:Z.N.Error}))}finally{ei(!1)}}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.Z,{open:z,onClose:$?void 0:eu,maxWidth:"xs",slotProps:{paper:{sx:h.W2.dialog}},hideBackdrop:!0,slots:{transition:a.Z},transitionDuration:300,disableEscapeKeyDown:$,children:[(0,i.jsxs)(l.Z,{sx:h.W2.dialogTitle,children:[en("backgroundImage.title"),(0,i.jsx)(s.Z,{onClick:eu,sx:h.W2.closeButton,children:(0,i.jsx)(f.Z,{fontSize:"small"})})]}),(0,i.jsxs)(d.Z,{sx:h.W2.dialogContent,children:[(0,i.jsxs)(c.Z,{sx:h.W2.tabContainer,children:[(0,i.jsx)(p.Z,{onClick:()=>ec(j.EJ),sx:h.W2.tabButton(_===j.EJ),children:en("backgroundImage.subTitle_1")}),(0,i.jsx)(p.Z,{onClick:()=>ec(j.Et),sx:h.W2.tabButton(_===j.Et),children:en("backgroundImage.subTitle_2")})]}),(0,i.jsxs)(c.Z,{sx:h.W2.tabContent,children:[(0,i.jsx)(c.Z,{sx:h.W2.tabPanel(_===j.EJ),children:(0,i.jsxs)(c.Z,{sx:{mb:2},children:[(0,i.jsx)(c.Z,{sx:h.W2.imagePreview(q||j.VZ.bgPic)}),(0,i.jsxs)(c.Z,{sx:h.W2.imageGrid,children:[H.map(e=>(0,i.jsx)(c.Z,{sx:h.W2.imagebox,children:(0,i.jsx)(c.Z,{onClick:()=>ed(e.imageUrl),sx:h.W2.imageOption(q===e.imageUrl),children:(0,i.jsx)(g.default,{src:e.imageUrl||j.VZ.bgPic,alt:e.name||"Theme",width:56,height:56,style:{objectFit:"cover",borderRadius:2}})})},e._id)),V&&V.imageUrl?(0,i.jsxs)(c.Z,{sx:h.W2.imagebox,children:[(0,i.jsx)(c.Z,{onClick:()=>ed(V.imageUrl),sx:h.W2.imageOption(q===V.imageUrl),children:(0,i.jsx)(g.default,{src:V.imageUrl||j.VZ.bgPic,alt:V.name||"Theme",width:56,height:56,style:{objectFit:"cover",borderRadius:2}})}),(0,i.jsx)(s.Z,{size:"small",sx:h.W2.images,onClick:()=>K(!0),children:(0,i.jsx)(w.Z,{fontSize:"small"})})]}):(0,i.jsx)(s.Z,{size:"large",sx:h.W2.plusIcon,onClick:()=>K(!0),children:(0,i.jsx)(v.Z,{fontSize:"large"})},"plus-button")]})]})}),(0,i.jsx)(c.Z,{sx:h.W2.tabPanel(_===j.Et),children:(0,i.jsxs)(c.Z,{sx:{mb:2},children:[(0,i.jsx)(c.Z,{sx:h.W2.colorGrid(ea),children:er.map((e,t)=>(0,i.jsx)(c.Z,{onClick:()=>el(e),sx:h.W2.colorCell(e,N===e)},"color-".concat(t)))}),(0,i.jsxs)(c.Z,{sx:h.W2.opacityContainer,children:[(0,i.jsx)(u.Z,{sx:h.W2.opacityLabel,children:en("backgroundImage.opacity")}),(0,i.jsxs)(c.Z,{sx:h.W2.opacitySliderContainer,children:[(0,i.jsxs)(c.Z,{sx:h.W2.sliderTrack,children:[(0,i.jsx)(c.Z,{sx:h.W2.sliderBackground(N)}),(0,i.jsx)(c.Z,{sx:h.W2.sliderFill(G,N)}),(0,i.jsx)(x.ZP,{value:100*G,onChange:(e,t)=>es(t),min:0,max:100,sx:h.W2.slider(N)})]}),(0,i.jsxs)(c.Z,{sx:h.W2.opacityValue,children:[Math.round(100*G),"%"]})]})]}),(0,i.jsxs)(c.Z,{sx:h.W2.colorPreviewContainer,children:[(0,i.jsx)(c.Z,{sx:h.W2.colorPreview(N)}),(0,i.jsx)(c.Z,{sx:h.W2.presetColorsContainer,children:S.uf.map(e=>(0,i.jsx)(c.Z,{onClick:()=>el(e),sx:h.W2.presetColorButton(e,N===e)},"preset-".concat(e)))})]})]})})]}),(0,i.jsxs)(c.Z,{sx:h.W2.buttonContainer,children:[(0,i.jsx)(p.Z,{onClick:eu,fullWidth:!0,sx:h.W2.cancelButton,children:en("backgroundImage.Cancel")}),(0,i.jsx)(p.Z,{onClick:ep,fullWidth:!0,sx:h.W2.applyButton,children:en("backgroundImage.Apply")})]})]})]}),(0,i.jsx)(C.Z,{open:$,onClose:()=>K(!1),title:en("backgroundImage.UploadNewBackgroundImage"),children:(0,i.jsx)(k.Z,{onChange:e=>et(e),onValidationError:e=>{Q((0,y.wp)({message:e,type:Z.N.Error}))},button:e=>(0,i.jsxs)(c.Z,{sx:{...O.buttonRow,mt:3},children:[(0,i.jsx)(p.Z,{onClick:()=>K(!1),sx:O.cancelButton,children:en("backgroundImage.Cancel")}),(0,i.jsx)(p.Z,{variant:"contained",onClick:ex,sx:O.submitButton,disabled:!e||eo,children:eo?en("backgroundImage.Uploading"):en("backgroundImage.Upload")})]})})})]})}},688317:function(e,t,o){"use strict";var i=o(557437);o(902265);var n=o(408319),r=o(938543);t.default=e=>{let{center:t=!1,inline:o=!1,size:a=40,...l}=e;return o?(0,i.jsx)(n.Z,{size:a,...l}):(0,i.jsx)(r.Z,{display:t?"flex":void 0,justifyContent:t?"center":void 0,alignItems:t?"center":void 0,width:t?"100vw":void 0,height:t?"100vh":void 0,minHeight:t?"100vh":void 0,position:t?"fixed":void 0,top:t?0:void 0,left:t?0:void 0,zIndex:t?1300:void 0,bgcolor:t?"background.default":void 0,children:(0,i.jsx)(n.Z,{size:a,...l})})}},861458:function(e,t,o){"use strict";o.d(t,{E:function(){return c}});var i=o(842858),n=o(799376),r=o(902265),a=o(633623),l=o(98104),s=o(62e4),d=o(591925);function c(e){let{user:t,isOnboardingCompleted:o,selectedRole:c}=(0,i.C)(e=>e.auth),p=(0,n.useRouter)();(0,r.useEffect)(()=>{var i;let n=(0,l.$8)(),r=!!t;if(!n){e!==a.Bp&&p.replace(a.QZ.login);return}if(!r)return;let u=null!=c?c:s.i.ActiveController,x=null!==(i=t.activeShiftCount)&&void 0!==i?i:0,f=t.signatureUrl,g=window.location.pathname,h=(0,d.k8)(u,x,o,!!f,g),b=(0,d.R)(u,x,o);if(e===a.Bp&&h!==a.QZ.login){p.replace(h);return}if(e===a.So&&o&&b){u===s.i.Administrator?p.replace(a.QZ.companies):p.replace(a.QZ.dashboard);return}if(e===a.h1&&!o&&!b){p.replace(h);return}},[t,o,e,p,c])}},27354:function(e,t,o){"use strict";o.d(t,{GM:function(){return l},W2:function(){return a},aR:function(){return r},yQ:function(){return n}});var i=o(633623);let n={root:{backgroundImage:"url(".concat(i.VZ.workers,")"),backgroundSize:"cover",backgroundPosition:"center",position:"relative",display:"flex",alignItems:"flex-end",justifyContent:"flex-start",overflow:"hidden"},overlay:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"#00091B99",boxShadow:"9px 0px 17px 0px #4DA0FF21"},contentWrapper:{position:"relative",color:"white",textAlign:"left",p:4,m:2,width:"100%",borderRadius:4,background:"#04347F33",boxShadow:"0px 4px 4px 0px #00000040, inset 0px 6px 30.6px 0px #FFFFFF40"},caption:{mb:2,opacity:.9,fontSize:"0.875rem"},word:{fontWeight:"bold",fontSize:"2rem"},underline:{width:60,height:4,bgcolor:"white",mt:3}},r={appBar:{background:"#1A1A1A26",backdropFilter:"blur(16.25px)",WebkitBackdropFilter:"blur(16.25px)",borderRadius:"40px",boxShadow:"\n    0px 4px 4px 0px #00000040,\n    inset 0px 6px 30.6px 0px #FFFFFF40,\n    inset 8.13px 8.13px 24.38px -5.2px #FFFFFF33,\n    inset -16.25px -8.13px 13.4px -5.2px #FFFFFF1A,\n    inset 0px 0px 8px -5.2px #FFFFFF33\n  ",position:"absolute",top:0,left:0,right:0,maxWidth:"98vw",width:"calc(100% - 48px)",margin:"24px auto",zIndex:1e3,padding:"0 10px"},toolbar:{display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:"64px",padding:0},profileBox:{display:"flex",alignItems:"center",gap:1.5},profileButton:{display:"flex",alignItems:"center",gap:1.5,padding:"8px 12px",borderRadius:"20px",transition:"all 0.2s ease-in-out","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)",transform:"translateY(-1px)"},"&:active":{transform:"translateY(0)"}},userName:{color:"#FFFFFF",fontWeight:500,fontSize:"14px"},avatar:{width:32,height:32,color:"#fff",border:"none"},menuPaper:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,background:"#1A1A1A26",backdropFilter:"blur(10.25px)",WebkitBackdropFilter:"blur(10.25px)",boxShadow:"\n      8.13px 8.13px 24.38px -5.2px #FFFFFF66 inset,\n      -16.25px -8.13px 8.13px -5.2px #FFFFFF33 inset,\n      0px 0px 20.8px -5.2px #FFFFFF33 inset\n    ",color:"#FFFFFFF",borderRadius:"12px",minWidth:"160px","& .MuiMenuItem-root":{fontSize:"14px"}},menuItem:{padding:"4px 8px",borderRadius:"8px",margin:"2px 4px",color:"#FFFFFF",transition:"all 0.2s ease-in-out"},menuIcon:{minWidth:"36px",color:"#FFFFFFF"}},a={container:{background:"#1A1A1A26",backdropFilter:"blur(50.25px)",borderRadius:"20px",boxShadow:"\n    8.13px 8.13px 24.38px -5.2px #FFFFFF66 inset,\n    -16.25px -8.13px 8.13px -5.2px #FFFFFF33 inset,\n    0px 0px 20.8px -5.2px #FFFFFF33 inset\n  ",overflow:"hidden",width:"100%",height:"100%",display:"flex",flexDirection:"column"},dialog:{borderRadius:4,background:"#BDBEC14D",color:"#fff",p:0,overflow:"visible",position:"fixed",top:24,right:24,zIndex:2e3,backdropFilter:"blur(30px)",WebkitBackdropFilter:"blur(30px)",boxShadow:"0px 10px 60px 0px #0000001A",minWidth:340,transition:"all 0.3s ease-in-out"},dialogTitle:{display:"flex",alignItems:"center",justifyContent:"space-between",p:2,pb:1,fontWeight:600,fontSize:18,color:"#fff"},closeButton:{backgroundColor:"#fff",color:"#000",p:.5,borderRadius:"50px",transition:"all 0.2s ease-in-out","&:hover":{backgroundColor:"#f0f0f0",transform:"scale(1.05)"}},dialogContent:{p:2,pt:0},tabContainer:{display:"flex",alignItems:"center",mb:2,width:"100%"},tabButton:e=>({borderRadius:2,mr:1,fontWeight:500,fontSize:14,textTransform:"none",background:e?"#fff":"#BDBEC14D",color:e?"#000":"#FFF",boxShadow:e?"0 2px 8px #0001":"none",flex:1,width:"100%",transition:"all 0.2s ease-in-out"}),colorGrid:e=>({display:"grid",gridTemplateColumns:"repeat(".concat(e,", 1fr)"),gap:0,mb:2,width:"100%"}),colorCell:(e,t)=>({width:"100%",aspectRatio:"1 / 1",background:e,borderRadius:0,border:t?"2px solid #3D96E1":"none",cursor:"pointer",transition:"all 0.15s ease-in-out","&:hover":{transform:"scale(1.1)",zIndex:1}}),opacityContainer:{display:"flex",flexDirection:"column",alignItems:"left",mb:1},opacityLabel:{fontSize:14,color:"#B0B8C1",mb:.5,fontWeight:600,letterSpacing:1},opacitySliderContainer:{display:"flex",flexDirection:"row",alignItems:"center",gap:2,width:"100%"},sliderTrack:{position:"relative",flex:1,height:24,display:"flex",alignItems:"center",borderRadius:12,overflow:"hidden",padding:"2px 0"},sliderBackground:e=>({position:"absolute",left:0,top:0,width:"100%",height:"100%",borderRadius:12,background:"\n      repeating-linear-gradient(45deg, #e0e0e0 0 8px, #fff 0 16px),\n      repeating-linear-gradient(-45deg, #e0e0e0 0 8px, #fff 0 16px),\n      linear-gradient(90deg, transparent 0%, ".concat(e," 100%)\n    ")}),sliderFill:(e,t)=>({position:"absolute",left:0,top:0,width:"".concat(100*e,"%"),height:"100%",background:"linear-gradient(90deg, transparent 0%, ".concat(t," 100%)"),opacity:1,pointerEvents:"none"}),slider:e=>({width:"100%",color:"transparent",zIndex:1,height:24,p:0,"& .MuiSlider-thumb":{width:25,height:25,background:"#fff",border:"3px solid ".concat(e),boxShadow:"0 2px 8px #0002",marginTop:0,marginBottom:0},"& .MuiSlider-rail":{opacity:0},"& .MuiSlider-track":{opacity:0},"& .MuiSlider-root":{padding:"0 12px"}}),opacityValue:{width:48,height:24,background:"#fff",color:"#000",borderRadius:2,px:0,py:0,fontWeight:500,fontSize:"1rem ",textAlign:"center",boxShadow:"0 1px 4px #0001",display:"flex",alignItems:"center",justifyContent:"center"},colorPreviewContainer:{display:"flex",alignItems:"center",width:"100%",borderTop:"2px solid #E0E4EA",pt:2,mt:1,gap:2},colorPreview:e=>({width:44,height:44,borderRadius:2,background:e,border:"2.5px solid #fff",boxShadow:"0 2px 8px #0002",mr:2,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease-in-out"}),presetColorsContainer:{display:"flex",flexWrap:"wrap",gap:1.5,flex:1,justifyContent:"flex-start",alignItems:"center"},presetColorButton:(e,t)=>({width:18,height:18,borderRadius:"50%",background:e,border:t?"2px solid #3D96E1":"1.5px solid #fff",boxShadow:"0 1px 4px #0001",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease-in-out","&:hover":{transform:"scale(1.2)"}}),addColorButton:{width:18,height:18,borderRadius:"50%",background:"#E0E4EA",color:"#3D96E1",display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,fontWeight:500,cursor:"pointer",border:"2px dashed #3D96E1",transition:"all 0.2s ease-in-out","&:hover":{transform:"scale(1.2)",background:"#3D96E1",color:"#fff"}},imagePreview:e=>({border:"1px solid rgb(234, 236, 241)",borderRadius:2,overflow:"hidden",width:"100%",height:150,mb:2,background:"url(".concat(e,") center/cover no-repeat"),transition:"all 0.3s ease-in-out"}),imageGrid:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:1,mb:1,p:1},imagebox:{position:"relative",display:"inline-block"},images:{position:"absolute",top:-6,right:2,background:"#fff",color:"#3D96E1",zIndex:2,boxShadow:1,p:.5,"&:hover":{background:"#e0e0e0"}},inputRounded:{fontSize:"0.8rem",color:"#FFFFFF",position:"relative","& .MuiOutlinedInput-root":{borderRadius:2,minHeight:"28px",fontSize:"0.8rem",color:"#FFFFFF",outline:"none",border:"1px solid #fff",position:"relative",padding:"4px 8px",boxSizing:"border-box","&.Mui-focused":{borderColor:"#fff"}},"& .MuiInputBase-input":{fontSize:"0.8rem",lineHeight:1.2,padding:"4px 8px",color:"#FFFFFF",background:"#2F5C9914",display:"flex",alignItems:"center",outline:"none",minHeight:"6px"},"& .MuiSelect-select":{fontSize:"0.8rem",lineHeight:1.2,padding:"4px 40px 4px 8px",display:"flex",alignItems:"center",whiteSpace:"normal",overflow:"hidden",textOverflow:"ellipsis"},"& .MuiSelect-icon":{color:"#fff",right:"8px"},"& textarea":{fontSize:"0.8rem",lineHeight:1,minHeight:"6px"}},plusIcon:{width:56,height:56,border:"2px dashed #3D96E1",borderRadius:2,color:"#3D96E1",display:"flex",alignItems:"center",justifyContent:"center",background:"#fff",m:.5},imageOption:e=>({border:e?"2px solid #3D96E1":"2px solid transparent",borderRadius:2,overflow:"hidden",cursor:"pointer",width:60,height:60,background:"#232A3A",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease-in-out","&:hover":{transform:"scale(1.05)",borderColor:e?"#3D96E1":"#fff"}}),buttonContainer:{display:"flex",flexDirection:"row",gap:1,mt:1},cancelButton:{color:"#fff",background:"#BDBEC14D",borderRadius:2,px:3,fontWeight:500,mb:1,transition:"all 0.2s ease-in-out","&:hover":{background:"#9A9CA04D",transform:"translateY(-1px)"}},applyButton:{color:"#fff",background:"#3D96E1",borderRadius:2,px:3,fontWeight:500,mb:1,transition:"all 0.2s ease-in-out","&:hover":{background:"#2D86D1",transform:"translateY(-1px)"}},fadeContainer:e=>({opacity:e?1:0,transition:"opacity 0.3s ease-in-out",minHeight:"200px"}),tabContent:{position:"relative",minHeight:"300px",overflow:"hidden"},tabPanel:e=>({position:e?"relative":"absolute",top:0,left:0,width:"100%",opacity:e?1:0,visibility:e?"visible":"hidden",transition:"all 0.3s ease-in-out",transform:e?"translateY(0)":"translateY(10px)"})},l={container:{background:"#1A1A1A26",backdropFilter:"blur(50.25px)",borderRadius:"20px",boxShadow:"\n    8.13px 8.13px 24.38px -5.2px #FFFFFF66 inset,\n    -16.25px -8.13px 8.13px -5.2px #FFFFFF33 inset,\n    0px 0px 20.8px -5.2px #FFFFFF33 inset\n  ",overflow:"hidden",width:"100%",height:"100%",display:"flex",flexDirection:"column"},header:{mt:4,px:4,display:"flex",alignItems:"center",justifyContent:"space-between"},headerTitle:{color:"#fff"},addButton:{color:"#fff",borderColor:"#fff",backgroundColor:"transparent",borderRadius:2,"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)",borderColor:"#fff"}},tableWrapper:{px:5,py:3,flex:1,overflow:"hidden"},footer:{px:2,pb:1,borderTop:"1px solid rgba(255,255,255,0.1)"},searchInput:{backgroundColor:"transparent",borderRadius:1,minWidth:200,"& .MuiOutlinedInput-root":{color:"#fff","& fieldset":{borderColor:"#fff"},"&:hover fieldset":{borderColor:"#fff"},"&.Mui-focused fieldset":{borderColor:"#fff"}},"& .MuiInputBase-input":{color:"#fff"},"& .MuiInputAdornment-root svg":{color:"#fff"}}}},62e4:function(e,t,o){"use strict";var i,n;o.d(t,{i:function(){return i}}),(n=i||(i={})).ActiveController="Active Controller",n.Administrator="Administrator",n.Observer="Observer"},312488:function(e,t,o){"use strict";var i=o(557437),n=o(902265),r=o(799376),a=o(842858),l=o(98104),s=o(938543),d=o(408319),c=o(633623),p=o(62e4),u=o(38188),x=o(591925);t.Z=e=>{var t;let{children:o,requireAuth:f=!0}=e,g=(0,r.useRouter)(),{user:h,isOnboardingCompleted:b,selectedRole:m}=(0,a.C)(e=>e.auth),F=(0,a.T)(),[v,w]=(0,n.useState)(!1),C=null!==(t=null==h?void 0:h.activeShiftCount)&&void 0!==t?t:0;(0,n.useEffect)(()=>{void 0!==h&&w(!0)},[h]);let k=(0,n.useMemo)(()=>h?(0,x.k8)(null!=m?m:p.i.ActiveController,h.activeShiftCount,b,!!h.signatureUrl,window.location.pathname):null,[h,m,b]);return((0,n.useEffect)(()=>{if(!v)return;if(!(0,l.$8)()){f&&g.replace(c.QZ.login);return}if(!h)return;let e=window.location.pathname,t=(0,x.k8)(null!=m?m:p.i.ActiveController,h.activeShiftCount,b,!!h.signatureUrl,e);if((0,x.R)(null!=m?m:p.i.ActiveController,h.activeShiftCount,b)&&!b&&F((0,u.Ex)(!0)),t&&t!==e){g.replace(t);return}},[v,h,b,f,g,k,m,C,F]),v)?(0,i.jsx)(i.Fragment,{children:o}):(0,i.jsx)(s.Z,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:(0,i.jsx)(d.Z,{})})}},591925:function(e,t,o){"use strict";o.d(t,{R:function(){return a},k8:function(){return r}});var i=o(62e4),n=o(633623);let r=(e,t,o,r,a)=>{if(!r)return n.QZ.esign;if(!o)switch(e){case i.i.Administrator:return n.QZ.onboardingRoleSelection;case i.i.ActiveController:if(t&&t>0)return n.QZ.shiftChange;return n.QZ.onboardingHoursRest;case i.i.Observer:return n.QZ.onboardingObserver;default:return n.QZ.login}switch(e){case i.i.Administrator:if(a&&(a.startsWith(n.QZ.companies)||a.startsWith(n.QZ.user)||a.startsWith(n.QZ.aor)||a.startsWith(n.QZ.categories)||a.startsWith(n.QZ.roles)||a.startsWith(n.QZ.themes)))return a;return n.QZ.companies;case i.i.ActiveController:if(t&&t>0){if(a&&(a.startsWith(n.QZ.shiftChange)||a.startsWith(n.QZ.logbook)||a.startsWith(n.QZ.documents)||a.startsWith(n.QZ.help)))return a;return n.QZ.shiftChange}if(a&&a.startsWith("/dashboard/"))return a;return n.QZ.dashboard;case i.i.Observer:if(a&&(a.startsWith(n.QZ.logbook)||a.startsWith(n.QZ.shiftChange)||a.startsWith(n.QZ.documents)||a.startsWith(n.QZ.help)))return a;return n.QZ.dashboard;default:return n.QZ.login}},a=(e,t,o)=>{if(o)return!0;switch(e){case i.i.Administrator:return!1;case i.i.ActiveController:return!!(t&&t>0);case i.i.Observer:default:return!1}}}},function(e){e.O(0,[1425,8969,6799,970,7639,8977,9858,9352,3145,7286,3886,8150,793,1907,9416,3446,5010,8237,9885,8188,1571,2357,8516,1435,3967,2971,2117,1744],function(){return e(e.s=713449)}),_N_E=e.O()}]);