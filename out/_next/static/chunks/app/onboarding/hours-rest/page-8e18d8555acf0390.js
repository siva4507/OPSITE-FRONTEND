(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4775],{917155:function(e,t,n){Promise.resolve().then(n.bind(n,544130))},544130:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var s=n(557437),r=n(902265),i=n(31504),o=n(790658),a=n(938543),l=n(229858),u=n(977639),c=n(273088),d=n(703460),x=n(408319),p=n(258609),h=n(477203),b=n(799376),m=n(118627),v=n(842858),f=n(86586),C=n(899765),Z=n(560087),j=n(633623),g=n(720280),k=n(62e4);function w(){var e,t;let n=(0,v.T)(),w=(0,b.useRouter)(),{t:y}=(0,m.$)(),{qualityOfSleep:S,shiftAssignment:E}=(0,v.C)(e=>e.onboarding),A=(0,v.C)(e=>e.auth.user),[N,W]=(0,r.useState)(j.Jb),[F,H]=(0,r.useState)(""),[_,M]=(0,r.useState)(!1),P=null!==(t=null==A?void 0:null===(e=A.roles)||void 0===e?void 0:e.map(e=>e.name))&&void 0!==t?t:[],z=P.includes(k.i.ActiveController)&&1===P.length,B=!!(null==A?void 0:A.signatureUrl);(0,r.useEffect)(()=>{n((0,f.vZ)())},[n]),(0,r.useEffect)(()=>{if(E){let{continuousRestHours:e,ratingId:t}=E;e&&e>0?W(e.toString()):W(j.Jb),t?H(t):H("")}},[E]);let R=(0,r.useCallback)(e=>{W(e),n((0,f.oh)(parseFloat(e)))},[n]),q=(0,r.useCallback)(e=>{let t=e.target.value;H(t),n((0,f.oG)(t))},[n]),D=(0,r.useCallback)(e=>{e.preventDefault();let t=parseFloat(N);return!N||isNaN(t)||t<=0?n((0,C.wp)({message:y("restHours.selectHoursError"),type:Z.N.Error})):F?void(n((0,f.oh)(t)),n((0,f.oG)(F)),M(!0),w.push(j.QZ.onboardingAreaResponse)):n((0,C.wp)({message:y("restHours.selectQualityError"),type:Z.N.Error}))},[n,N,F,w,y]),I=(0,r.useMemo)(()=>S.findIndex(e=>e._id===F)+1,[S,F]);return(0,s.jsxs)(i.Z,{maxWidth:"sm",sx:g.W2.cardContainer,children:[(0,s.jsx)(o.Z,{variant:"h5",sx:g.W2.title,children:y("restHours.title")}),(0,s.jsx)(o.Z,{sx:g.W2.subtitle,children:y("restHours.subtitle")}),(0,s.jsx)(a.Z,{sx:g.C3.inputRow,children:(0,s.jsx)(l.Z,{type:"number",value:N,onChange:e=>{let t=e.target.value,n=parseFloat(t);if(""===t)return R("");isNaN(n)||R(Math.min(Math.max(n,0),24).toString())},label:y("restHours.hoursLabel"),fullWidth:!0,variant:"standard",margin:"normal",disabled:_,sx:{...g.C3.inputField,..._?{pointerEvents:"none"}:{},"& input[type=number]":{MozAppearance:"textfield","&::-webkit-outer-spin-button, &::-webkit-inner-spin-button":{WebkitAppearance:"none",margin:0}}},inputProps:{min:0,max:24,step:.1,pattern:"[0-9]*"}})}),(0,s.jsx)(a.Z,{sx:g.C3.quickSelectRow,children:j.F1.map(e=>{let t="12+"===e?12:e,n=parseFloat(N)===t;return(0,s.jsxs)(u.Z,{variant:"outlined",disabled:_,sx:{...n?g.C3.quickSelectBtnActive:g.C3.quickSelectBtn,..._?{pointerEvents:"none"}:{}},onClick:()=>R(t.toString()),children:[e," hrs"]},e)})}),(0,s.jsx)(a.Z,{sx:g.C3.selectContainer,children:(0,s.jsxs)(a.Z,{sx:g.C3.selectRow,children:[(0,s.jsx)(o.Z,{sx:g.C3.selectLabel,children:y("restHours.qualitySleep")}),(0,s.jsxs)(c.Z,{value:F,onChange:q,variant:"standard",displayEmpty:!0,disabled:_,sx:{...g.C3.select,..._?{pointerEvents:"none"}:{}},MenuProps:{PaperProps:{sx:g.C3.dropdownMenuPaper}},children:[(0,s.jsx)(d.Z,{value:"",disabled:!0,children:(0,s.jsx)(o.Z,{sx:{...g.C3.hoursDescription,textAlign:"left"},children:y("restHours.Select")})}),S.map(e=>(0,s.jsx)(d.Z,{value:e._id,sx:{fontSize:"0.85rem"},children:(0,s.jsxs)(a.Z,{sx:g.C3.Dropdowncard,children:[(0,s.jsx)(o.Z,{sx:g.C3.hoursLabel,children:e.rating}),(0,s.jsxs)(o.Z,{sx:g.C3.hoursDescription,children:["| ",e.quality]})]})},e._id))]})]})}),(0,s.jsx)(a.Z,{sx:g.C3.starRow,children:[1,2,3,4,5].map(e=>e<=I?(0,s.jsx)(p.Z,{sx:{color:"#FFC107",fontSize:36}},e):(0,s.jsx)(h.Z,{sx:{color:"#ccc8c8",fontSize:36}},e))}),(0,s.jsxs)(a.Z,{sx:g.W2.buttonContainer,children:[(!z||!B)&&(0,s.jsx)(u.Z,{variant:"contained",sx:g.W2.backButton,onClick:()=>w.back(),disabled:_,children:(0,s.jsx)(o.Z,{sx:g.W2.submitButtonText,children:y("common.back")})}),(0,s.jsx)(u.Z,{type:"submit",variant:"contained",size:"large",sx:g.W2.submitButton,onClick:D,disabled:_,children:_?(0,s.jsx)(x.Z,{size:24,sx:{color:"white"}}):(0,s.jsx)(o.Z,{sx:g.W2.submitButtonText,children:y("restHours.save")})})]})]})}function y(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(w,{})})}},899765:function(e,t,n){"use strict";n.d(t,{M6:function(){return l},wp:function(){return a}});var s=n(620301),r=n(560087);let i={open:!1,message:"",type:r.N.Info},o=(0,s.oM)({name:"alert",initialState:i,reducers:{showAlert:(e,t)=>{e.open=!0,e.message=t.payload.message,e.type=t.payload.type||r.N.Info},closeAlert:e=>{e.open=!1,e.message=""}}}),{showAlert:a,closeAlert:l}=o.actions;t.ZP=o.reducer},62e4:function(e,t,n){"use strict";var s,r;n.d(t,{i:function(){return s}}),(r=s||(s={})).ActiveController="Active Controller",r.Administrator="Administrator",r.Observer="Observer"},560087:function(e,t,n){"use strict";var s,r;n.d(t,{N:function(){return s}}),(r=s||(s={})).Success="success",r.Error="error",r.Warning="warning",r.Info="info"}},function(e){e.O(0,[8969,6799,970,7639,8977,9858,2960,9885,280,2971,2117,1744],function(){return e(e.s=917155)}),_N_E=e.O()}]);