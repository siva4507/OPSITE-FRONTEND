(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1980],{325658:function(e,t,r){Promise.resolve().then(r.bind(r,439955))},439955:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var n=r(557437),i=r(902265),s=r(31504),o=r(790658),a=r(938543),u=r(977639),l=r(408319),c=r(433145),d=r(212961),h=r(799376),f=r(118627),Z=r(842858),m=r(86586),x=r(899765),v=r(560087),p=r(633623),g=r(720280),b=r(62e4),Q=r(591925),W=r(38188);function C(){var e;let t=(0,Z.T)(),r=(0,h.useRouter)(),{t:C}=(0,f.$)(),{roles:j,loading:A,error:w}=(0,Z.C)(e=>e.onboarding),[k,y]=(0,i.useState)(null),[_,O]=(0,i.useState)(!1),S=null!==(e=(0,Z.C)(e=>{var t;return null===(t=e.auth.user)||void 0===t?void 0:t.activeShiftCount}))&&void 0!==e?e:0;(0,i.useEffect)(()=>{t((0,m.vd)())},[t]);let E=(0,i.useMemo)(()=>j.find(e=>e._id===k),[j,k]),N=A||_;return(0,n.jsxs)(s.Z,{maxWidth:"sm",sx:g.W2.cardContainerA,children:[(0,n.jsx)(o.Z,{variant:"h5",sx:g.W2.headerTitle,children:C("roleSelection.title")}),A&&(0,n.jsx)(o.Z,{children:C("common:loading")}),w&&(0,n.jsx)(o.Z,{color:"error",children:w}),(0,n.jsx)(a.Z,{sx:{display:"flex",justifyContent:"center",gap:4,mt:2,flexWrap:"nowrap"},children:j.map(e=>{let t=k===e._id,r=e.name===b.i.Observer?p.VZ.observer:e.name===b.i.Administrator?p.VZ.administrator:p.VZ.activeController;return(0,n.jsxs)(a.Z,{sx:g.d7.roleContainer,children:[(0,n.jsxs)(a.Z,{onClick:_?void 0:()=>y(e._id),sx:{...g.d7.roleBox,...t?g.d7.selectedBox:{},..._?{pointerEvents:"none",opacity:.2}:{}},children:[(0,n.jsx)(c.default,{src:r,alt:e.name,width:74,height:74}),t&&(0,n.jsx)(d.Z,{sx:g.d7.iconButton})]}),(0,n.jsx)(o.Z,{sx:{...g.d7.roleLabel,...t?g.d7.selectedLabel:{}},children:e.name})]},e._id)})}),(0,n.jsx)(a.Z,{sx:g.W2.buttonContainer,children:(0,n.jsx)(u.Z,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:g.W2.submitButton,onClick:e=>{if(e.preventDefault(),!k){t((0,x.wp)({message:C("roleSelection.warning"),type:v.N.Warning}));return}if(!E)return;O(!0),t((0,W.Tm)(E.name));let n=(0,Q.k8)(E.name,S,!1,!0),i=!1;E.name===b.i.Administrator?i=!0:E.name===b.i.ActiveController&&S>0&&(i=!0),t((0,W.Ex)(i)),r.push(n)},disabled:N,children:N?(0,n.jsx)(l.Z,{size:24,sx:{color:"white"}}):(0,n.jsx)(o.Z,{sx:g.W2.submitButtonText,component:"span",children:C("roleSelection.continueButton")})})})]})}function j(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(C,{})})}},899765:function(e,t,r){"use strict";r.d(t,{M6:function(){return u},wp:function(){return a}});var n=r(620301),i=r(560087);let s={open:!1,message:"",type:i.N.Info},o=(0,n.oM)({name:"alert",initialState:s,reducers:{showAlert:(e,t)=>{e.open=!0,e.message=t.payload.message,e.type=t.payload.type||i.N.Info},closeAlert:e=>{e.open=!1,e.message=""}}}),{showAlert:a,closeAlert:u}=o.actions;t.ZP=o.reducer},62e4:function(e,t,r){"use strict";var n,i;r.d(t,{i:function(){return n}}),(i=n||(n={})).ActiveController="Active Controller",i.Administrator="Administrator",i.Observer="Observer"},560087:function(e,t,r){"use strict";var n,i;r.d(t,{N:function(){return n}}),(i=n||(n={})).Success="success",i.Error="error",i.Warning="warning",i.Info="info"},591925:function(e,t,r){"use strict";r.d(t,{R:function(){return o},k8:function(){return s}});var n=r(62e4),i=r(633623);let s=(e,t,r,s,o)=>{if(!s)return i.QZ.esign;if(!r)switch(e){case n.i.Administrator:return i.QZ.onboardingRoleSelection;case n.i.ActiveController:if(t&&t>0)return i.QZ.shiftChange;return i.QZ.onboardingHoursRest;case n.i.Observer:return i.QZ.onboardingObserver;default:return i.QZ.login}switch(e){case n.i.Administrator:if(o&&(o.startsWith(i.QZ.companies)||o.startsWith(i.QZ.user)||o.startsWith(i.QZ.aor)||o.startsWith(i.QZ.categories)||o.startsWith(i.QZ.roles)||o.startsWith(i.QZ.themes)))return o;return i.QZ.companies;case n.i.ActiveController:if(t&&t>0){if(o&&(o.startsWith(i.QZ.shiftChange)||o.startsWith(i.QZ.logbook)||o.startsWith(i.QZ.documents)||o.startsWith(i.QZ.help)))return o;return i.QZ.shiftChange}if(o&&o.startsWith("/dashboard/"))return o;return i.QZ.dashboard;case n.i.Observer:if(o&&(o.startsWith(i.QZ.logbook)||o.startsWith(i.QZ.shiftChange)||o.startsWith(i.QZ.documents)||o.startsWith(i.QZ.help)))return o;return i.QZ.dashboard;default:return i.QZ.login}},o=(e,t,r)=>{if(r)return!0;switch(e){case n.i.Administrator:return!1;case n.i.ActiveController:return!!(t&&t>0);case n.i.Observer:default:return!1}}}},function(e){e.O(0,[8969,6799,7639,3145,7458,9885,8188,280,2971,2117,1744],function(){return e(e.s=325658)}),_N_E=e.O()}]);